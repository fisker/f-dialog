var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var e,n=(function(e,n){e.exports=function(){function e(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,r=void 0,a=function(t,e){f[o]=t,f[o+1]=e,2===(o+=2)&&(r?r(p):b())},s="undefined"!=typeof window?window:void 0,l=s||{},c=l.MutationObserver||l.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(p,1)}}var f=new Array(1e3);function p(){for(var t=0;t<o;t+=2){var e=f[t],n=f[t+1];e(n),f[t]=void 0,f[t+1]=void 0}o=0}var v,g,m,y,b=void 0;function _(t,e){var n=this,o=new this.constructor(M);void 0===o[E]&&H(o);var i=n._state;if(i){var r=arguments[i-1];a(function(){return F(i,o,r,n._result)})}else L(n,o,t,e);return o}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(M);return C(e,t),e}u?b=function(){return process.nextTick(p)}:c?(g=0,m=new c(p),y=document.createTextNode(""),m.observe(y,{characterData:!0}),b=function(){y.data=g=++g%2}):d?((v=new MessageChannel).port1.onmessage=p,b=function(){return v.port2.postMessage(0)}):b=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(p)}:h()}catch(t){return h()}}():h();var E=Math.random().toString(36).substring(2);function M(){}var D=void 0,k=1,x=2,S={error:null};function A(t){try{return t.then}catch(t){return S.error=t,S}}function T(t,n,o){n.constructor===t.constructor&&o===_&&n.constructor.resolve===w?function(t,e){e._state===k?N(t,e._result):e._state===x?P(t,e._result):L(e,void 0,function(e){return C(t,e)},function(e){return P(t,e)})}(t,n):o===S?(P(t,S.error),S.error=null):void 0===o?N(t,n):e(o)?function(t,e,n){a(function(t){var o=!1,i=function(t,e,n,o){try{t.call(e,n,o)}catch(t){return t}}(n,e,function(n){o||(o=!0,e!==n?C(t,n):N(t,n))},function(e){o||(o=!0,P(t,e))},t._label);!o&&i&&(o=!0,P(t,i))},t)}(t,n,o):N(t,n)}function C(t,e){var n,o;t===e?P(t,new TypeError("You cannot resolve a promise with itself")):(o=typeof(n=e),null===n||"object"!==o&&"function"!==o?N(t,e):T(t,e,A(e)))}function O(t){t._onerror&&t._onerror(t._result),j(t)}function N(t,e){t._state===D&&(t._result=e,t._state=k,0!==t._subscribers.length&&a(j,t))}function P(t,e){t._state===D&&(t._state=x,t._result=e,a(O,t))}function L(t,e,n,o){var i=t._subscribers,r=i.length;t._onerror=null,i[r]=e,i[r+k]=n,i[r+x]=o,0===r&&t._state&&a(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var o=void 0,i=void 0,r=t._result,a=0;a<e.length;a+=3)o=e[a],i=e[a+n],o?F(n,o,i,r):i(r);t._subscribers.length=0}}function F(t,n,o,i){var r=e(o),a=void 0,s=void 0,l=void 0,c=void 0;if(r){if((a=function(t,e){try{return t(e)}catch(t){return S.error=t,S}}(o,i))===S?(c=!0,s=a.error,a.error=null):l=!0,n===a)return void P(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;n._state!==D||(r&&l?C(n,a):c?P(n,s):t===k?N(n,a):t===x&&P(n,a))}var I=0;function H(t){t[E]=I++,t._state=void 0,t._result=void 0,t._subscribers=[]}var K=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(M),this.promise[E]||H(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?N(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&N(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===D&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,o=n.resolve;if(o===w){var i=A(t);if(i===_&&t._state!==D)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===z){var r=new n(M);T(r,t,i),this._willSettleAt(r,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(o(t),e)},t.prototype._settledAt=function(t,e,n){var o=this.promise;o._state===D&&(this._remaining--,t===x?P(o,n):this._result[e]=n),0===this._remaining&&N(o,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;L(t,void 0,function(t){return n._settledAt(k,e,t)},function(t){return n._settledAt(x,e,t)})},t}(),z=function(){function t(e){this[E]=I++,this._result=this._state=void 0,this._subscribers=[],M!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){C(t,e)},function(e){P(t,e)})}catch(e){P(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return z.prototype.then=_,z.all=function(t){return new K(this,t).promise},z.race=function(t){var e=this;return n(t)?new e(function(n,o){for(var i=t.length,r=0;r<i;r++)e.resolve(t[r]).then(n,o)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},z.resolve=w,z.reject=function(t){var e=new this(M);return P(e,t),e},z._setScheduler=function(t){r=t},z._setAsap=function(t){a=t},z._asap=a,z.polyfill=function(){var e=void 0;if(void 0!==t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var o=null;try{o=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===o&&!n.cast)return}e.Promise=z},z.Promise=z,z}()}(e={exports:{}},e.exports),e.exports),o=window.CustomEvent;function i(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function r(t){t&&t.blur&&t!==document.body&&t.blur()}function a(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function s(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function l(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]})}else{var e,n=!1,o=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===t){var r="DOMNodeRemoved";n|=i.type.substr(0,r.length)===r,window.clearTimeout(e),e=window.setTimeout(o,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(e){t.addEventListener(e,i)})}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}o&&"object"!=typeof o||((o=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),l.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),c.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map(function(t){return t+":not([disabled])"});e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}r(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!c.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,c.needsCentering(this.dialog_)?(c.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new o("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var c={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],o=null;try{o=n.cssRules}catch(t){}if(o)for(var i=0;i<o.length;++i){var r=o[i],s=null;try{s=document.querySelectorAll(r.selectorText)}catch(t){}if(s&&a(s,t)){var l=r.style.getPropertyValue("top"),c=r.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return"absolute"===window.getComputedStyle(t).position&&(!("auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom)&&!c.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new l(t)},registerDialog:function(t){t.showModal||c.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var n=[];e.forEach(function(t){for(var e,o=0;e=t.removedNodes[o];++o)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))}),n.length&&t(n)}))}};if(c.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},c.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},c.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var o=this.pendingDialogStack[0];o?(o.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},c.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=i(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},c.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&document.activeElement!==document.documentElement&&(t.preventDefault(),t.stopPropagation(),r(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():t.target!==document.documentElement&&document.documentElement.focus()),!1}},c.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new o("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},c.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach(function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()})},c.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},c.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},c.dm=new c.DialogManager,c.formSubmitter=null,c.useValue=null,void 0===window.HTMLDialogElement){var u=document.createElement("form");if(u.setAttribute("method","dialog"),"dialog"!==u.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var h=d.get;d.get=function(){return s(this)?"dialog":h.call(this)};var f=d.set;d.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):f.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",function(t){if(c.formSubmitter=null,c.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&s(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;c.useValue=t.offsetX+","+t.offsetY}i(e)&&(c.formSubmitter=e)}}},!1);var p=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!s(this))return p.call(this);var t=i(this);t&&t.close()},document.addEventListener("submit",function(t){var e=t.target;if(s(e)){t.preventDefault();var n=i(e);if(n){var o=c.formSubmitter;o&&o.form===e?n.close(c.useValue||o.value):n.close(),c.formSubmitter=null}}},!0)}var v={};function g(t){var e=t.Promise,n=t.dialogPolyfill;e&&(v.Promise=e),n&&(v.dialogPolyfill=n)}var m=Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this)},y=Object.prototype.hasOwnProperty;var b=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return m.call(n,function(e){(function(t){var e;for(e in this)y.call(this,e)&&t.call(this,this[e],e,this)}).call(e,function(e,n){t[n]=e})}),t};function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=Function("return this")().document;if(!w)throw new Error("".concat("fu-dialog"," requires a window with a document."));var E="".concat("fu","-dialog"),M=E,D="".concat(E,"__head"),k="".concat(E,"__title"),x="".concat(E,"__body"),S="".concat(E,"__message"),A="".concat(E,"__message-body"),T="".concat(E,"__input"),C="".concat(E,"__foot"),O="".concat(E,"__actions"),N="".concat(E,"__close"),P="".concat(E,"__action"),L="".concat(P,"--confirm"),j="".concat(P,"--cancel"),F="".concat(E,"--alert"),I="".concat(E,"--confirm"),H="".concat(E,"--prompt"),K=Object.prototype.toString;function z(t){return K.call(t).slice(8,-1)}var B=Array.isArray||function(t){return"Array"===z(t)},V=w.createElement("div"),R="classList"in V,q="textContent"in V;function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return B(t)?t:String(t||"").split(" ")}var Z={button:{type:"button"},input:{type:"text"}};function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof t&&(n=e,e=t,t=null);var o=w.createElement(e);return n=function(t,e){var n=Z[e];return n&&(t=b({},n,t)),t}(n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(B(t)||"string"==typeof t)&&(t={className:t});var e=Y(t.className);return e.length?t.className=e.join(" "):delete t.className,!q&&"textContent"in t&&(t.innerText=t.textContent,delete t.textContent),t}(n),e),b(o,n),t&&t.appendChild(o),o}var G=9007199254740991;function U(t){return t&&"function"!=typeof t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=G}(t.length)}function W(t){return t&&"number"==typeof t.nodeType}function J(t,e){return"string"==typeof e?(t.innerHTML=e,t):W(e)?(t.appendChild(e),t):U(e)?(m.call(e,function(e){J(t,e)}),t):t}var Q=function(){return!1},$=function(){return!0};function tt(t,e,n){var o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return("function"==typeof(o=e)||"boolean"==typeof o)&&(i=n||!1,n=e,e="click"),n=function(t){return!0===t&&(t=$),!1===t&&(t=Q),t}(n),t.addEventListener(e,n,i),t}function et(t){return t.preventDefault(),!1}var nt={title:"提示",confirmActionText:"确定",cancelActionText:"取消",promptPlaceholder:"请输入",reverseActions:!1,closeButton:"关闭",preventCancel:!0};function ot(t,e){return 2===arguments.length&&(t=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),b(nt,t)}function it(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;return"Object"!==z(t)&&(t={message:t}),t=b(e,t)}var rt=function(){};function at(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt;"function"==typeof e&&(n=e,e={}),!1===n&&(n=Q),!0===n&&(n=$);var o=Y((e=b({textContent:String(t)},e)).className);return o.unshift(P),e.className=o,{el:X("button",e),action:n}}function st(t){var e="";return"confirm"===t?e=L:"cancel"===t&&(e=j),function(n,o){var i=nt["".concat(t,"ActionText")];return"function"==typeof n&&(o=n,n=i),at(n=n||i,{className:e},o)}}var lt=st("confirm"),ct=st("cancel");function ut(t){return"string"==typeof t&&(t={text:t}),U(t)?ut(t[0]):(W(t)&&(t={el:t}),"function"==typeof t.el&&(t.el=t.el()),t!==lt&&t!==ct||(t=t()),"function"!=typeof t&&"boolean"!=typeof t||(t=lt(t)),t.el||(t=at(t.text,t.action)),t)}var dt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this,i=!(null===(e=it(e)).title||!1===e.title||void 0===e.title),r=e.content,a="message"in e,s=(e.actions||[]).map(ut),l=e,c=l.closeButton,u=void 0===c?"":c,d=l.onClose,h=e,f=h.preventCancel,p=h.onCancel,g=X("dialog",M);(function(t){var e=v.dialogPolyfill,n=(void 0===e?{}:e).registerDialog;n&&n(t)}(g),f?tt(g,"cancel",et):tt(g,"cancel",function(){p&&p(),o.remove()}),this.container=g,u)&&tt(X(g,"button",{className:N,innerHTML:"<span>".concat(String(u),"</span>")}),"click",function(){d&&d(),o.remove()});if(i){var y=X(g,"div",D);this.head=y;X(y,"div",{className:k,textContent:String(e.title)})}if(r||a){var b=X(g,"div",x);if(this.body=b,r)J(b,e.content);else if(a){var _=X(b,"div",S);X(_,"span",{className:A,textContent:String(e.message)})}}if(s.length){var E=X(g,"div",C);this.foot=E;var T=X(E,"div",O);m.call(s,function(t){return function(t,e,n){var o=e.el,i=e.action;return tt(o,"click",function(){var t;i&&(t=i.call(n)),!1!==t&&n.remove()}),t.appendChild(o),t}(T,t,o)})}w.body.appendChild(this.container),!1!==n&&this.open()}var e,n,o;return e=t,(n=[{key:"open",value:function(){this.container.showModal()}},{key:"remove",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"close",value:function(){this.container.close()}}])&&_(e.prototype,n),o&&_(e,o),t}();function ht(t){return function(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt,i=v.Promise;if(i){var r=new i(function(i){n=t(e,function(t){return i(t),o.call(this,t)})});return r.dialog=n,r}return t(e,o)}}var ft=R?function(t,e){return t.classList.add(e),t}:function(t,e){return t.className+=" ".concat(e),t};function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;if(!(t=it(t)).actions){var n=lt(e);t.actions=[n]}t.onClose=e;var o=new dt(t);return ft(o.container,F),o}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;function n(){return e.call(this,!1)}if(!(t=it(t)).actions){var o=lt(function(){return e.call(this,!0)}),i=ct(n);nt.reverseActions?t.actions=[i,o]:t.actions=[o,i]}t.onClose=n;var r=new dt(t);return ft(r.container,I),r}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;(t=it(t,{title:null,closeButton:!1})).content||"message"in t||(t.content=[]);var n=t.input;function o(){return e.call(this)}if(n||(n=t.rows?X("textarea",{className:T,rows:t.rows,placeholder:t.placeholder||nt.promptPlaceholder}):X("input",{className:T,placeholder:t.placeholder||nt.promptPlaceholder})),!t.actions){var i=lt(function(){return e.call(this,n.value)}),r=ct(o);nt.reverseActions?t.actions=[r,i]:t.actions=[i,r]}t.onClose=o;var a=new dt(t,!1);return ft(a.container,H),J(a.body,n),a.open(),a}b(v,{Promise:n,dialogPolyfill:c});export default(function(){function t(t){return new dt(t)}return b(t,{env:v,setEnvironment:g,defaults:nt,setDefaults:ot,dialog:t,Dialog:dt,alert:ht(pt),confirm:ht(vt),prompt:ht(gt),action:b(at,{confirm:lt,cancel:ct}),btn:{confirm:lt(),cancel:ct()}}),t}());
