/*! fu-dialog v1.0.7 | (c) 2019 fisker | MIT */(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,e.fd=t())})(this,function(){'use strict';function e(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e){for(var t in this)H.call(this,t)&&e.call(this,this[t],t,this)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function l(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e){return ae.call(e).slice(8,-1)}function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t="";return t=ie(e)?e:((e||"")+"").split(" "),t}function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(ie(e)||"string"==typeof e)&&(e={className:e});var t=s(e.className);return t.length?e.className=t.join(" "):delete e.className,!de&&"textContent"in e&&(e.innerText=e.textContent,delete e.textContent),e}function c(e,t){var o=ce[t];return o&&(e=K({},o,e)),e}function u(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof e&&(o=t,t=e,e=null);var n=B.createElement(t);return o=d(o),o=c(o,t),K(n,o),e&&e.appendChild(n),n}function p(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function g(e){return e&&"function"!=typeof e&&p(e.length)}function m(e){return e&&"number"==typeof e.nodeType}function _(e,t){return"string"==typeof t?(e.innerHTML=t,e):m(t)?(e.appendChild(t),e):g(t)?(F.call(t,function(t){_(e,t)}),e):e}function b(e){return"function"==typeof e||"boolean"==typeof e}function f(e){return!0===e&&(e=pe),!1===e&&(e=ue),e}function h(e,t,o){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];return b(t)&&(n=o||!1,o=t,t="click"),o=f(o),e.addEventListener(t,o,n),e}function y(t){return t.preventDefault(),!1}function v(e,t){return h(e,t,y)}function D(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ge,o=r(e);return"Object"!==o&&(e={message:e}),e=K(t,e),e}function k(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:me;"function"==typeof t&&(o=t,t={}),!1===o&&(o=ue),!0===o&&(o=pe),t=K({textContent:e+""},t);var n=s(t.className);n.unshift("fu-dialog__action"),t.className=n;var a=u("button",t);return{el:a,action:o}}function x(e){var t="";return"confirm"===e?t="fu-dialog__action--confirm":"cancel"==e&&(t="fu-dialog__action--cancel"),function(o,n){var a=ge["".concat(e,"ActionText")];return"function"==typeof o&&(n=o,o=a),o=o||a,k(o,{className:t},n)}}function M(e){return("string"==typeof e&&(e={text:e}),g(e))?M(e[0]):(m(e)&&(e={el:e}),"function"==typeof e.el&&(e.el=e.el()),("function"==typeof e||"boolean"==typeof e)&&(e=_e(e)),e.el||(e=k(e.text,e.action)),e)}function S(e,t,o){var n=t.el,a=t.action;return h(n,"click",function(){var e;a&&(e=a.call(o)),!1!==e&&o.remove()}),e.appendChild(n),e}function w(e){var t=L.dialogPolyfill,o=void 0===t?{}:t,n=o.registerDialog;return n?n(e):e}function E(e){var t=L.Promise;return function(o){var n,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:me,l=new t(function(t){n=e(o,function(e){return t(e),a.call(this,e)})});return l.dialog=n,l}}function A(e,t){return 2===arguments.length&&(e=i({},e,t)),K(ge,e)}function C(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:me;if(e=D(e),!e.actions){var o=_e(t);e.actions=[o]}e.onClose=t;var n=new fe(e);return ye(n.container,"fu-dialog--alert"),n}function T(e){function t(){return n.call(this,!0)}function o(){return n.call(this,!1)}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:me;if(e=D(e),!e.actions){var a=_e(t),l=be(o);e.actions=ge.reverseActions?[l,a]:[a,l]}e.onClose=o;var i=new fe(e);return ye(i.container,"fu-dialog--confirm"),i}function P(e){function t(){return n.call(this,l.value)}function o(){return n.call(this)}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:me;e=D(e,{title:null,closeButton:!1}),e.content||"message"in e||(e.content=[]);var a=e,l=a.input;if(l||(e.rows?l=u("textarea",{className:"fu-dialog__input",rows:e.rows,placeholder:e.placeholder||ge.promptPlaceholder}):l=u("input",{className:"fu-dialog__input",placeholder:e.placeholder||ge.promptPlaceholder})),!e.actions){var i=_e(t),r=be(o);e.actions=ge.reverseActions?[r,i]:[i,r]}e.onClose=o;var s=new fe(e,!1);return ye(s.container,"fu-dialog--prompt"),_(s.body,l),s.open(),s}var N="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,O=t(function(t){(function(e,o){t.exports=o()})(N,function(){function t(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}function o(e){return"function"==typeof e}function n(){return"undefined"==typeof L?a():function(){L(l)}}function a(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<I;e+=2){var t=V[e],o=V[e+1];t(o),V[e]=void 0,V[e+1]=void 0}I=0}function r(e,t){var o=this,n=new this.constructor(d);void 0===n[Y]&&E(n);var a=o._state;if(a){var l=arguments[a-1];F(function(){return M(a,n,l,o._result)})}else D(o,n,e,t);return n}function s(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var o=new t(d);return f(o,e),o}function d(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function u(){return new TypeError("A promises callback cannot return that same promise.")}function p(e){try{return e.then}catch(e){return G.error=e,G}}function g(e,t,o,n){try{e.call(t,o,n)}catch(t){return t}}function m(e,t,o){F(function(e){var n=!1,a=g(o,t,function(o){n||(n=!0,t===o?y(e,o):f(e,o))},function(t){n||(n=!0,v(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&a&&(n=!0,v(e,a))},e)}function _(e,t){1===t._state?y(e,t._result):2===t._state?v(e,t._result):D(t,void 0,function(t){return f(e,t)},function(t){return v(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===r&&t.constructor.resolve===s?_(e,t):n===G?(v(e,G.error),G.error=null):void 0===n?y(e,t):o(n)?m(e,t,n):y(e,t)}function f(e,o){e===o?v(e,c()):t(o)?b(e,o,p(o)):y(e,o)}function h(e){e._onerror&&e._onerror(e._result),k(e)}function y(e,t){void 0!==e._state||(e._result=t,e._state=1,0!==e._subscribers.length&&F(k,e))}function v(e,t){void 0!==e._state||(e._state=2,e._result=t,F(h,e))}function D(e,t,o,n){var a=e._subscribers,l=a.length;e._onerror=null,a[l]=t,a[l+1]=o,a[l+2]=n,0===l&&e._state&&F(k,e)}function k(e){var t=e._subscribers,o=e._state;if(0!==t.length){for(var n=void 0,a=void 0,l=e._result,r=0;r<t.length;r+=3)n=t[r],a=t[r+o],n?M(o,n,a,l):a(l);e._subscribers.length=0}}function x(e,t){try{return e(t)}catch(t){return G.error=t,G}}function M(e,t,n,a){var l,i,r,s,d=o(n);if(!d)l=a,r=!0;else if(l=x(n,a),l===G?(s=!0,i=l.error,l.error=null):r=!0,t===l)return void v(t,u());if(void 0!==t._state);else d&&r?f(t,l):s?v(t,i):1===e?y(t,l):2===e&&v(t,l)}function S(t,o){try{o(function(e){f(t,e)},function(e){v(t,e)})}catch(o){v(t,o)}}function w(){return U++}function E(e){e[Y]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}function A(){return new Error("Array Methods must be provided an Array")}function C(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function T(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var P=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var O=P,I=0,L=void 0,j=void 0,F=function(e,t){V[I]=e,V[I+1]=t,I+=2,2===I&&(j?j(l):q())},H="undefined"==typeof window?void 0:window,R=H||{},K=R.MutationObserver||R.WebKitMutationObserver,z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),B="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,V=Array(1e3),q=void 0;q=z?function(){return function(){return process.nextTick(l)}}():K?function(){var e=0,t=new K(l),o=document.createTextNode("");return t.observe(o,{characterData:!0}),function(){o.data=e=++e%2}}():B?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}():void 0===H&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return L=e.runOnLoop||e.runOnContext,n()}catch(t){return a()}}():a();var Y=Math.random().toString(36).substring(2),Z=void 0,X=2,G={error:null},U=0,i=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[Y]||E(this.promise),O(t)?(this.length=t.length,this._remaining=t.length,this._result=Array(this.length),0===this.length?y(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&y(this.promise,this._result))):v(this.promise,A())}return e.prototype._enumerate=function(e){for(var t=0;this._state===Z&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var o=this._instanceConstructor,n=o.resolve;if(n===s){var a=p(e);if(a===r&&e._state!==Z)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(o===W){var l=new o(d);b(l,e,a),this._willSettleAt(l,t)}else this._willSettleAt(new o(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,o){var n=this.promise;n._state===Z&&(this._remaining--,e===X?v(n,o):this._result[t]=o),0===this._remaining&&y(n,this._result)},e.prototype._willSettleAt=function(e,t){var o=this;D(e,void 0,function(e){return o._settledAt(1,t,e)},function(e){return o._settledAt(X,t,e)})},e}(),W=function(){function e(t){this[Y]=w(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&C(),this instanceof e?S(this,t):T())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return o(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return W.prototype.then=r,W.all=function(e){return new i(this,e).promise},W.race=function(e){var t=this;return O(e)?new t(function(o,n){for(var a=e.length,l=0;l<a;l++)t.resolve(e[l]).then(o,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},W.resolve=s,W.reject=function(e){var t=this,o=new t(d);return v(o,e),o},W._setScheduler=function(e){j=e},W._setAsap=function(e){F=e},W._asap=F,W.polyfill=function(){var e;if("undefined"!=typeof N)e=N;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var o=null;try{o=Object.prototype.toString.call(t.resolve())}catch(t){}if("[object Promise]"===o&&!t.cast)return}e.Promise=W},W.Promise=W,W})}),I=t(function(e){(function(){function t(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),o=function(e,o){return void 0!==t[e]&&t[e]!==o};if(1>t.opacity||o("zIndex","auto")||o("transform","none")||o("mixBlendMode","normal")||o("filter","none")||o("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1}function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function n(e){e&&e.blur&&e!==document.body&&e.blur()}function a(e,t){for(var o=0;o<e.length;++o)if(e[o]===t)return!0;return!1}function l(e){return!!(e&&e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function i(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){var t=new MutationObserver(this.maybeHideModal.bind(this));t.observe(e,{attributes:!0,attributeFilter:["open"]})}else{var o,n=!1,a=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),l=function(t){if(t.target===e){n|="DOMNodeRemoved"===t.type.substr(0,14),window.clearTimeout(o),o=window.setTimeout(a,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,l)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}var r=window.CustomEvent;r&&"object"!=typeof r||(r=function(e,t){t=t||{};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),o},r.prototype=window.Event.prototype),i.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(!this.dialog_.hasAttribute("tabindex")){var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}else this.dialog_.focus();var o=document.createEvent("MouseEvents");o.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(o),t.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&0<=this.dialog_.tabIndex&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push("[tabindex]:not([disabled]):not([tabindex=\"\"])"),e=this.dialog_.querySelector(t.join(", "))}n(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");t(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var d={};if(d.reposition=function(e){var t=Math.max,o=document.body.scrollTop||document.documentElement.scrollTop,n=o+(window.innerHeight-e.offsetHeight)/2;e.style.top=t(o,n)+"px"},d.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var o=document.styleSheets[t],n=null;try{n=o.cssRules}catch(t){}if(n)for(var l=0;l<n.length;++l){var r=n[l],s=null;try{s=document.querySelectorAll(r.selectorText)}catch(t){}if(s&&a(s,e)){var d=r.style.getPropertyValue("top"),c=r.style.getPropertyValue("bottom");if(d&&"auto"!==d||c&&"auto"!==c)return!0}}}return!1},d.needsCentering=function(e){var t=window.getComputedStyle(e);return"absolute"===t.position&&("auto"===e.style.top||""===e.style.top)&&("auto"===e.style.bottom||""===e.style.bottom)&&!d.isInlinePositionSetByStylesheet(e)},d.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new i(e)},d.registerDialog=function(e){e.showModal||d.forceRegisterDialog(e)},d.DialogManager=function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(o){this.forwardTab_=void 0,o.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var o=[];e.forEach(function(e){for(var t,n=0;t=e.removedNodes[n];++n){if(!(t instanceof Element))continue;else"dialog"===t.localName&&o.push(t);o=o.concat(t.querySelectorAll("dialog"))}}),o.length&&t(o)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,o=0;e=this.pendingDialogStack[o];++o)e.updateZIndex(--t,--t),0==o&&(this.overlay.style.zIndex=--t);var n=this.pendingDialogStack[0];if(n){var a=n.dialog.parentNode||document.body;a.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0==n;e=e.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),n(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0],o=t.dialog,a=o.compareDocumentPosition(e.target);return a&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),o=this.pendingDialogStack[0];o&&o.dialog.dispatchEvent(t)&&o.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},d.DialogManager.prototype.checkDOM_=function(e){var t=this.pendingDialogStack.slice();t.forEach(function(t){-1===e.indexOf(t.dialog)?t.maybeHideModal():t.downgradeModal()})},d.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1===t||(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,void 0===window.HTMLDialogElement){var c=document.createElement("form");if(c.setAttribute("method","dialog"),"dialog"!==c.method){var u=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(u){var p=u.get;u.get=function(){return l(this)?"dialog":p.call(this)};var g=u.set;u.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):g.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",u)}}document.addEventListener("click",function(e){if(d.formSubmitter=null,d.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&l(t.form)){var n="submit"===t.type&&-1<["button","input"].indexOf(t.localName);if(!n){if("input"!==t.localName||"image"!==t.type)return;d.useValue=e.offsetX+","+e.offsetY}var a=o(t);a&&(d.formSubmitter=t)}}},!1);var m=HTMLFormElement.prototype.submit,_=function(){if(!l(this))return m.call(this);var e=o(this);e&&e.close()};HTMLFormElement.prototype.submit=_,document.addEventListener("submit",function(e){var t=e.target;if(l(t)){e.preventDefault();var n=o(t);if(n){var a=d.formSubmitter;a&&a.form===t?n.close(d.useValue||a.value):n.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,"object"==typeof e.exports?e.exports=d:window.dialogPolyfill=d})()}),L={},j=Array.prototype.forEach,F=j||function(e){for(var t=0,o=this.length;t<o;t++)e.call(this,this[t],t,this)},H=Object.prototype.hasOwnProperty,R=Object.assign,K=R||function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return F.call(n,function(t){o.call(t,function(t,o){e[o]=t})}),e},z=Function("return this")(),B=z.document;if(!B)throw new Error("".concat("fu-dialog"," requires a window with a document."));var V="".concat("fu-dialog","__head"),q="".concat("fu-dialog","__title"),Y="".concat("fu-dialog","__body"),Z="".concat("fu-dialog","__message"),X="".concat("fu-dialog","__message-body"),G="".concat("fu-dialog","__input"),U="".concat("fu-dialog","__foot"),W="".concat("fu-dialog","__actions"),Q="".concat("fu-dialog","__close"),$="".concat("fu-dialog","__action"),J="".concat($,"--confirm"),ee="".concat($,"--cancel"),te="".concat("fu-dialog","--alert"),oe="".concat("fu-dialog","--confirm"),ne="".concat("fu-dialog","--prompt"),ae=Object.prototype.toString,le=Array.isArray,ie=le||function(e){return"Array"===r(e)},re=B.createElement("div"),se="classList"in re,de="textContent"in re,ce={button:{type:"button"},input:{type:"text"}},ue=function(){return!1},pe=function(){return!0},ge={title:"\u63D0\u793A",confirmActionText:"\u786E\u5B9A",cancelActionText:"\u53D6\u6D88",promptPlaceholder:"\u8BF7\u8F93\u5165",reverseActions:!1,closeButton:"\u5173\u95ED",preventCancel:!0},me=function(){},_e=x("confirm"),be=x("cancel"),fe=function(){function e(t,o){n(this,e);var a=this;t=D(t);var l=null!==t.title&&!1!==t.title&&"undefined"!=typeof t.title,i=t.content,r="message"in t,s=(t.actions||[]).map(M),d=t,c=d.closeButton,p=void 0===c?"":c,g=d.onClose,m=t,b=m.preventCancel,f=m.onCancel,y=u("dialog","fu-dialog");if(w(y),b?v(y,"cancel"):h(y,"cancel",function(){f&&f(),a.remove()}),this.container=y,p){var k=u(y,"button",{className:Q,innerHTML:"<span>".concat(p+"","</span>")});h(k,"click",function(){g&&g(),a.remove()})}if(l){var x=u(y,"div",V);this.head=x;u(x,"div",{className:q,textContent:t.title+""})}if(i||r){var E=u(y,"div",Y);if(this.body=E,i)_(E,t.content);else if(r)var A=u(E,"div",Z),C=u(A,"span",{className:X,textContent:t.message+""})}if(s.length){var T=u(y,"div",U);this.foot=T;var P=u(T,"div",W);F.call(s,function(e){return S(P,e,a)})}B.body.appendChild(this.container),!1!==o&&this.open()}return l(e,[{key:"open",value:function(){this.container.showModal()}},{key:"remove",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"close",value:function(){this.container.close()}}]),e}(),he=function(e){return e},ye=se?function(e,t){return e.classList.add(t),e}:function(e,t){return e.className+=" ".concat(t),e};K(L,{Promise:O,dialogPolyfill:I});var ve=function(){function e(e){return new fe(e)}var t=L.Promise?E:he;return K(e,{defaultSettings:ge,setDefault:A,dialog:e,Dialog:fe,alert:t(C),confirm:t(T),prompt:t(P),action:K(k,{confirm:_e,cancel:be}),btn:{confirm:_e(),cancel:be()}}),e}();return ve});
