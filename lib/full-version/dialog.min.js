!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).fd=e()}(this,function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var e=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(e,n){e.exports=function(){function e(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,r=void 0,a=function(t,e){h[o]=t,h[o+1]=e,2===(o+=2)&&(r?r(p):b())},s="undefined"!=typeof window?window:void 0,l=s||{},c=l.MutationObserver||l.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(p,1)}}var h=new Array(1e3);function p(){for(var t=0;t<o;t+=2){var e=h[t],n=h[t+1];e(n),h[t]=void 0,h[t+1]=void 0}o=0}var v,g,m,y,b=void 0;function _(t,e){var n=this,o=new this.constructor(M);void 0===o[E]&&F(o);var i=n._state;if(i){var r=arguments[i-1];a(function(){return L(i,o,r,n._result)})}else N(n,o,t,e);return o}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(M);return A(e,t),e}u?b=function(){return process.nextTick(p)}:c?(g=0,m=new c(p),y=document.createTextNode(""),m.observe(y,{characterData:!0}),b=function(){y.data=g=++g%2}):d?((v=new MessageChannel).port1.onmessage=p,b=function(){return v.port2.postMessage(0)}):b=void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(p)}:f()}catch(t){return f()}}():f();var E=Math.random().toString(36).substring(2);function M(){}var x=void 0,D=1,k=2;function S(t,n,o){n.constructor===t.constructor&&o===_&&n.constructor.resolve===w?function(t,e){e._state===D?C(t,e._result):e._state===k?O(t,e._result):N(e,void 0,function(e){return A(t,e)},function(e){return O(t,e)})}(t,n):void 0===o?C(t,n):e(o)?function(t,e,n){a(function(t){var o=!1,i=function(t,e,n,o){try{t.call(e,n,o)}catch(t){return t}}(n,e,function(n){o||(o=!0,e!==n?A(t,n):C(t,n))},function(e){o||(o=!0,O(t,e))},t._label);!o&&i&&(o=!0,O(t,i))},t)}(t,n,o):C(t,n)}function A(t,e){if(t===e)O(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(o=e),null===o||"object"!==i&&"function"!==i)C(t,e);else{var n=void 0;try{n=e.then}catch(e){return void O(t,e)}S(t,e,n)}var o,i}function T(t){t._onerror&&t._onerror(t._result),P(t)}function C(t,e){t._state===x&&(t._result=e,t._state=D,0!==t._subscribers.length&&a(P,t))}function O(t,e){t._state===x&&(t._state=k,t._result=e,a(T,t))}function N(t,e,n,o){var i=t._subscribers,r=i.length;t._onerror=null,i[r]=e,i[r+D]=n,i[r+k]=o,0===r&&t._state&&a(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var o=void 0,i=void 0,r=t._result,a=0;a<e.length;a+=3)o=e[a],i=e[a+n],o?L(n,o,i,r):i(r);t._subscribers.length=0}}function L(t,n,o,i){var r=e(o),a=void 0,s=void 0,l=!0;if(r){try{a=o(i)}catch(t){l=!1,s=t}if(n===a)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==x||(r&&l?A(n,a):!1===l?O(n,s):t===D?C(n,a):t===k&&O(n,a))}var j=0;function F(t){t[E]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var I=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(M),this.promise[E]||F(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&C(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===x&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,o=n.resolve;if(o===w){var i=void 0,r=void 0,a=!1;try{i=t.then}catch(t){a=!0,r=t}if(i===_&&t._state!==x)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===H){var s=new n(M);a?O(s,r):S(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(o(t),e)},t.prototype._settledAt=function(t,e,n){var o=this.promise;o._state===x&&(this._remaining--,t===k?O(o,n):this._result[e]=n),0===this._remaining&&C(o,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;N(t,void 0,function(t){return n._settledAt(D,e,t)},function(t){return n._settledAt(k,e,t)})},t}(),H=function(){function t(e){this[E]=j++,this._result=this._state=void 0,this._subscribers=[],M!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){A(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return H.prototype.then=_,H.all=function(t){return new I(this,t).promise},H.race=function(t){var e=this;return n(t)?new e(function(n,o){for(var i=t.length,r=0;r<i;r++)e.resolve(t[r]).then(n,o)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},H.resolve=w,H.reject=function(t){var e=new this(M);return O(e,t),e},H._setScheduler=function(t){r=t},H._setAsap=function(t){a=t},H._asap=a,H.polyfill=function(){var e=void 0;if(void 0!==t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var o=null;try{o=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===o&&!n.cast)return}e.Promise=H},H.Promise=H,H}()}),n=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function i(t){t&&t.blur&&t!==document.body&&t.blur()}function r(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function a(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function s(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]})}else{var e,n=!1,o=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===t){var r="DOMNodeRemoved";n|=i.type.substr(0,r.length)===r,window.clearTimeout(e),e=window.setTimeout(o,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(e){t.addEventListener(e,i)})}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}n&&"object"!=typeof n||((n=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),s.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map(function(t){return t+":not([disabled])"});e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}i(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new n("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],o=null;try{o=n.cssRules}catch(t){}if(o)for(var i=0;i<o.length;++i){var a=o[i],s=null;try{s=document.querySelectorAll(a.selectorText)}catch(t){}if(s&&r(s,t)){var l=a.style.getPropertyValue("top"),c=a.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return"absolute"===window.getComputedStyle(t).position&&(!("auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom)&&!l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new s(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var n=[];e.forEach(function(t){for(var e,o=0;e=t.removedNodes[o];++o)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))}),n.length&&t(n)}))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var o=this.pendingDialogStack[0];o?(o.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&document.activeElement!==document.documentElement&&(t.preventDefault(),t.stopPropagation(),i(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():t.target!==document.documentElement&&document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new n("cancel",{bubbles:!1,cancelable:!0}),o=this.pendingDialogStack[0];o&&o.dialog.dispatchEvent(e)&&o.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach(function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var c=document.createElement("form");if(c.setAttribute("method","dialog"),"dialog"!==c.method){var u=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(u){var d=u.get;u.get=function(){return a(this)?"dialog":d.call(this)};var f=u.set;u.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):f.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",u)}}document.addEventListener("click",function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&a(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}},!1);var h=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!a(this))return h.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",function(t){var e=t.target;if(a(e)){t.preventDefault();var n=o(e);if(n){var i=l.formSubmitter;i&&i.form===e?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}},!0)}var p={};function v(t){var e=t.Promise,n=t.dialogPolyfill;e&&(p.Promise=e),n&&(p.dialogPolyfill=n)}var g=Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e+=1)t.call(this,this[e],e,this)},m=Object.prototype.hasOwnProperty;var y=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return g.call(n,function(e){(function(t){var e;for(e in this)m.call(this,e)&&t.call(this,this[e],e,this)}).call(e,function(e,n){t[n]=e})}),t};function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _=Function("return this")().document;if(!_)throw new Error("".concat("fu-dialog"," requires a window with a document."));var w="".concat("fu","-dialog"),E=w,M="".concat(w,"__head"),x="".concat(w,"__title"),D="".concat(w,"__body"),k="".concat(w,"__message"),S="".concat(w,"__message-body"),A="".concat(w,"__input"),T="".concat(w,"__foot"),C="".concat(w,"__actions"),O="".concat(w,"__close"),N="".concat(w,"__action"),P="".concat(N,"--confirm"),L="".concat(N,"--cancel"),j="".concat(w,"--alert"),F="".concat(w,"--confirm"),I="".concat(w,"--prompt"),H=Object.prototype.toString;function K(t){return H.call(t).slice(8,-1)}var z=Array.isArray||function(t){return"Array"===K(t)},B=_.createElement("div"),V="classList"in B,R="textContent"in B;function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return z(t)?t:String(t||"").split(" ")}var Y={button:{type:"button"},input:{type:"text"}};function Z(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof t&&(n=e,e=t,t=null);var o=_.createElement(e);return n=function(t,e){var n=Y[e];return n&&(t=y({},n,t)),t}(n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(z(t)||"string"==typeof t)&&(t={className:t});var e=q(t.className);return 0!==e.length?t.className=e.join(" "):delete t.className,!R&&"textContent"in t&&(t.innerText=t.textContent,delete t.textContent),t}(n),e),y(o,n),t&&t.appendChild(o),o}var X=9007199254740991;function G(t){return t&&"function"!=typeof t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=X}(t.length)}function U(t){return t&&"number"==typeof t.nodeType}function W(t,e){return"string"==typeof e?(t.innerHTML=e,t):U(e)?(t.appendChild(e),t):G(e)?(g.call(e,function(e){W(t,e)}),t):t}var J=function(){return!1},Q=function(){return!0};function $(t,e,n){var o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return("function"==typeof(o=e)||"boolean"==typeof o)&&(i=n||!1,n=e,e="click"),n=function(t){return!0===t&&(t=Q),!1===t&&(t=J),t}(n),t.addEventListener(e,n,i),t}function tt(t){return t.preventDefault(),!1}var et={title:"提示",confirmActionText:"确定",cancelActionText:"取消",promptPlaceholder:"请输入",reverseActions:!1,closeButton:"关闭",preventCancel:!0};function nt(t,e){return 2===arguments.length&&(t=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),y(et,t)}function ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et;return"Object"!==K(t)&&(t={message:t}),t=y(e,t)}var it=function(){};function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it;"function"==typeof e&&(n=e,e={}),!1===n&&(n=J),!0===n&&(n=Q);var o=q((e=y({textContent:String(t)},e)).className);return o.unshift(N),e.className=o,{el:Z("button",e),action:n}}function at(t){var e="";return"confirm"===t?e=P:"cancel"===t&&(e=L),function(n,o){var i=et["".concat(t,"ActionText")];return"function"==typeof n&&(o=n,n=i),rt(n=n||i,{className:e},o)}}var st=at("confirm"),lt=at("cancel");function ct(t){return"string"==typeof t&&(t={text:t}),G(t)?ct(t[0]):(U(t)&&(t={el:t}),"function"==typeof t.el&&(t.el=t.el()),t!==st&&t!==lt||(t=t()),"function"!=typeof t&&"boolean"!=typeof t||(t=st(t)),t.el||(t=rt(t.text,t.action)),t)}var ut=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=this,i=!(null===(e=ot(e)).title||!1===e.title||void 0===e.title),r=e.content,a="message"in e,s=(e.actions||[]).map(ct),l=e,c=l.closeButton,u=void 0===c?"":c,d=l.onClose,f=e,h=f.preventCancel,v=f.onCancel,m=Z("dialog",E);(function(t){var e=p.dialogPolyfill,n=(void 0===e?{}:e).registerDialog;n&&n(t)}(m),h?$(m,"cancel",tt):$(m,"cancel",function(){v&&v(),o.remove()}),this.container=m,u)&&$(Z(m,"button",{className:O,innerHTML:"<span>".concat(String(u),"</span>")}),"click",function(){d&&d(),o.remove()});if(i){var y=Z(m,"div",M);this.head=y;Z(y,"div",{className:x,textContent:String(e.title)})}if(r||a){var b=Z(m,"div",D);if(this.body=b,r)W(b,e.content);else if(a){var w=Z(b,"div",k);Z(w,"span",{className:S,textContent:String(e.message)})}}if(0!==s.length){var A=Z(m,"div",T);this.foot=A;var N=Z(A,"div",C);g.call(s,function(t){return function(t,e,n){var o=e.el,i=e.action;return $(o,"click",function(){var t;i&&(t=i.call(n)),!1!==t&&n.remove()}),t.appendChild(o),t}(N,t,o)})}_.body.appendChild(this.container),!1!==n&&this.open()}var e,n,o;return e=t,(n=[{key:"open",value:function(){this.container.showModal()}},{key:"remove",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"close",value:function(){this.container.close()}}])&&b(e.prototype,n),o&&b(e,o),t}();function dt(t){return function(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,i=p.Promise;if(i){var r=new i(function(i){n=t(e,function(t){return i(t),o.call(this,t)})});return r.dialog=n,r}return t(e,o)}}var ft=V?function(t,e){return t.classList.add(e),t}:function(t,e){return t.className+=" ".concat(e),t};function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;if(!(t=ot(t)).actions){var n=st(e);t.actions=[n]}t.onClose=e;var o=new ut(t);return ft(o.container,j),o}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;function n(){return e.call(this,!1)}if(!(t=ot(t)).actions){var o=st(function(){return e.call(this,!0)}),i=lt(n);et.reverseActions?t.actions=[i,o]:t.actions=[o,i]}t.onClose=n;var r=new ut(t);return ft(r.container,F),r}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;(t=ot(t,{title:null,closeButton:!1})).content||"message"in t||(t.content=[]);var n=t.input;function o(){return e.call(this)}if(n||(n=t.rows?Z("textarea",{className:A,rows:t.rows,placeholder:t.placeholder||et.promptPlaceholder}):Z("input",{className:A,placeholder:t.placeholder||et.promptPlaceholder})),!t.actions){var i=st(function(){return e.call(this,n.value)}),r=lt(o);et.reverseActions?t.actions=[r,i]:t.actions=[i,r]}t.onClose=o;var a=new ut(t,!1);return ft(a.container,I),W(a.body,n),a.open(),a}return y(p,{Promise:e,dialogPolyfill:l}),function(){function t(t){return new ut(t)}return y(t,{env:p,setEnvironment:v,defaults:et,setDefaults:nt,dialog:t,Dialog:ut,alert:dt(ht),confirm:dt(pt),prompt:dt(vt),action:y(rt,{confirm:st,cancel:lt}),btn:{confirm:st(),cancel:lt()}}),t}()});
