{"version":3,"file":"dialog.esm.mjs","sources":["../../node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js","../../src/core/env.js","../../src/utils/for-each.js","../../src/utils/has-own.js","../../src/utils/for-in.js","../../src/utils/assign.js","../../src/utils/global-this.js","../../src/utils/document.js","../../src/core/classnames.js","../../src/utils/to-string.js","../../src/utils/get-type.js","../../src/utils/is-array.js","../../src/dom/supports.js","../../src/dom/parse-classnames.js","../../src/dom/create-element.js","../../src/utils/is-length.js","../../src/utils/is-array-like.js","../../src/utils/is-node.js","../../src/dom/append-elements.js","../../src/utils/return-false.js","../../src/utils/return-true.js","../../src/dom/add-listener.js","../../src/dom/prevent-event.js","../../src/core/defaults.js","../../src/core/parse-options.js","../../src/utils/noop.js","../../src/core/create-action.js","../../src/core/parse-action.js","../../src/core/render-action.js","../../src/core/dialog.js","../../src/core/shortcut-wrapper.js","../../src/dom/add-class.js","../../src/core/shortcuts.js","../../src/core/export-module.js","../../src/full-version.js"],"sourcesContent":["// nb. This is for IE10 and lower _only_.\nvar supportCustomEvent = window.CustomEvent;\nif (!supportCustomEvent || typeof supportCustomEvent === 'object') {\n  supportCustomEvent = function CustomEvent(event, x) {\n    x = x || {};\n    var ev = document.createEvent('CustomEvent');\n    ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);\n    return ev;\n  };\n  supportCustomEvent.prototype = window.Event.prototype;\n}\n\n/**\n * @param {Element} el to check for stacking context\n * @return {boolean} whether this el or its parents creates a stacking context\n */\nfunction createsStackingContext(el) {\n  while (el && el !== document.body) {\n    var s = window.getComputedStyle(el);\n    var invalid = function(k, ok) {\n      return !(s[k] === undefined || s[k] === ok);\n    };\n    \n    if (s.opacity < 1 ||\n        invalid('zIndex', 'auto') ||\n        invalid('transform', 'none') ||\n        invalid('mixBlendMode', 'normal') ||\n        invalid('filter', 'none') ||\n        invalid('perspective', 'none') ||\n        s['isolation'] === 'isolate' ||\n        s.position === 'fixed' ||\n        s.webkitOverflowScrolling === 'touch') {\n      return true;\n    }\n    el = el.parentElement;\n  }\n  return false;\n}\n\n/**\n * Finds the nearest <dialog> from the passed element.\n *\n * @param {Element} el to search from\n * @return {HTMLDialogElement} dialog found\n */\nfunction findNearestDialog(el) {\n  while (el) {\n    if (el.localName === 'dialog') {\n      return /** @type {HTMLDialogElement} */ (el);\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n\n/**\n * Blur the specified element, as long as it's not the HTML body element.\n * This works around an IE9/10 bug - blurring the body causes Windows to\n * blur the whole application.\n *\n * @param {Element} el to blur\n */\nfunction safeBlur(el) {\n  if (el && el.blur && el !== document.body) {\n    el.blur();\n  }\n}\n\n/**\n * @param {!NodeList} nodeList to search\n * @param {Node} node to find\n * @return {boolean} whether node is inside nodeList\n */\nfunction inNodeList(nodeList, node) {\n  for (var i = 0; i < nodeList.length; ++i) {\n    if (nodeList[i] === node) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {HTMLFormElement} el to check\n * @return {boolean} whether this form has method=\"dialog\"\n */\nfunction isFormMethodDialog(el) {\n  if (!el || !el.hasAttribute('method')) {\n    return false;\n  }\n  return el.getAttribute('method').toLowerCase() === 'dialog';\n}\n\n/**\n * @param {!HTMLDialogElement} dialog to upgrade\n * @constructor\n */\nfunction dialogPolyfillInfo(dialog) {\n  this.dialog_ = dialog;\n  this.replacedStyleTop_ = false;\n  this.openAsModal_ = false;\n\n  // Set a11y role. Browsers that support dialog implicitly know this already.\n  if (!dialog.hasAttribute('role')) {\n    dialog.setAttribute('role', 'dialog');\n  }\n\n  dialog.show = this.show.bind(this);\n  dialog.showModal = this.showModal.bind(this);\n  dialog.close = this.close.bind(this);\n\n  if (!('returnValue' in dialog)) {\n    dialog.returnValue = '';\n  }\n\n  if ('MutationObserver' in window) {\n    var mo = new MutationObserver(this.maybeHideModal.bind(this));\n    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});\n  } else {\n    // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also\n    // seem to fire even if the element was removed as part of a parent removal. Use the removed\n    // events to force downgrade (useful if removed/immediately added).\n    var removed = false;\n    var cb = function() {\n      removed ? this.downgradeModal() : this.maybeHideModal();\n      removed = false;\n    }.bind(this);\n    var timeout;\n    var delayModel = function(ev) {\n      if (ev.target !== dialog) { return; }  // not for a child element\n      var cand = 'DOMNodeRemoved';\n      removed |= (ev.type.substr(0, cand.length) === cand);\n      window.clearTimeout(timeout);\n      timeout = window.setTimeout(cb, 0);\n    };\n    ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {\n      dialog.addEventListener(name, delayModel);\n    });\n  }\n  // Note that the DOM is observed inside DialogManager while any dialog\n  // is being displayed as a modal, to catch modal removal from the DOM.\n\n  Object.defineProperty(dialog, 'open', {\n    set: this.setOpen.bind(this),\n    get: dialog.hasAttribute.bind(dialog, 'open')\n  });\n\n  this.backdrop_ = document.createElement('div');\n  this.backdrop_.className = 'backdrop';\n  this.backdrop_.addEventListener('click', this.backdropClick_.bind(this));\n}\n\ndialogPolyfillInfo.prototype = {\n\n  get dialog() {\n    return this.dialog_;\n  },\n\n  /**\n   * Maybe remove this dialog from the modal top layer. This is called when\n   * a modal dialog may no longer be tenable, e.g., when the dialog is no\n   * longer open or is no longer part of the DOM.\n   */\n  maybeHideModal: function() {\n    if (this.dialog_.hasAttribute('open') && document.body.contains(this.dialog_)) { return; }\n    this.downgradeModal();\n  },\n\n  /**\n   * Remove this dialog from the modal top layer, leaving it as a non-modal.\n   */\n  downgradeModal: function() {\n    if (!this.openAsModal_) { return; }\n    this.openAsModal_ = false;\n    this.dialog_.style.zIndex = '';\n\n    // This won't match the native <dialog> exactly because if the user set top on a centered\n    // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's\n    // possible to polyfill this perfectly.\n    if (this.replacedStyleTop_) {\n      this.dialog_.style.top = '';\n      this.replacedStyleTop_ = false;\n    }\n\n    // Clear the backdrop and remove from the manager.\n    this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);\n    dialogPolyfill.dm.removeDialog(this);\n  },\n\n  /**\n   * @param {boolean} value whether to open or close this dialog\n   */\n  setOpen: function(value) {\n    if (value) {\n      this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');\n    } else {\n      this.dialog_.removeAttribute('open');\n      this.maybeHideModal();  // nb. redundant with MutationObserver\n    }\n  },\n\n  /**\n   * Handles clicks on the fake .backdrop element, redirecting them as if\n   * they were on the dialog itself.\n   *\n   * @param {!Event} e to redirect\n   */\n  backdropClick_: function(e) {\n    if (!this.dialog_.hasAttribute('tabindex')) {\n      // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be\n      // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this\n      // would not be needed - clicks would move the implicit cursor there.\n      var fake = document.createElement('div');\n      this.dialog_.insertBefore(fake, this.dialog_.firstChild);\n      fake.tabIndex = -1;\n      fake.focus();\n      this.dialog_.removeChild(fake);\n    } else {\n      this.dialog_.focus();\n    }\n\n    var redirectedEvent = document.createEvent('MouseEvents');\n    redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,\n        e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,\n        e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);\n    this.dialog_.dispatchEvent(redirectedEvent);\n    e.stopPropagation();\n  },\n\n  /**\n   * Focuses on the first focusable element within the dialog. This will always blur the current\n   * focus, even if nothing within the dialog is found.\n   */\n  focus_: function() {\n    // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.\n    var target = this.dialog_.querySelector('[autofocus]:not([disabled])');\n    if (!target && this.dialog_.tabIndex >= 0) {\n      target = this.dialog_;\n    }\n    if (!target) {\n      // Note that this is 'any focusable area'. This list is probably not exhaustive, but the\n      // alternative involves stepping through and trying to focus everything.\n      var opts = ['button', 'input', 'keygen', 'select', 'textarea'];\n      var query = opts.map(function(el) {\n        return el + ':not([disabled])';\n      });\n      // TODO(samthor): tabindex values that are not numeric are not focusable.\n      query.push('[tabindex]:not([disabled]):not([tabindex=\"\"])');  // tabindex != \"\", not disabled\n      target = this.dialog_.querySelector(query.join(', '));\n    }\n    safeBlur(document.activeElement);\n    target && target.focus();\n  },\n\n  /**\n   * Sets the zIndex for the backdrop and dialog.\n   *\n   * @param {number} dialogZ\n   * @param {number} backdropZ\n   */\n  updateZIndex: function(dialogZ, backdropZ) {\n    if (dialogZ < backdropZ) {\n      throw new Error('dialogZ should never be < backdropZ');\n    }\n    this.dialog_.style.zIndex = dialogZ;\n    this.backdrop_.style.zIndex = backdropZ;\n  },\n\n  /**\n   * Shows the dialog. If the dialog is already open, this does nothing.\n   */\n  show: function() {\n    if (!this.dialog_.open) {\n      this.setOpen(true);\n      this.focus_();\n    }\n  },\n\n  /**\n   * Show this dialog modally.\n   */\n  showModal: function() {\n    if (this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is already open, and therefore cannot be opened modally.');\n    }\n    if (!document.body.contains(this.dialog_)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: The element is not in a Document.');\n    }\n    if (!dialogPolyfill.dm.pushDialog(this)) {\n      throw new Error('Failed to execute \\'showModal\\' on dialog: There are too many open modal dialogs.');\n    }\n\n    if (createsStackingContext(this.dialog_.parentElement)) {\n      console.warn('A dialog is being shown inside a stacking context. ' +\n          'This may cause it to be unusable. For more information, see this link: ' +\n          'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');\n    }\n\n    this.setOpen(true);\n    this.openAsModal_ = true;\n\n    // Optionally center vertically, relative to the current viewport.\n    if (dialogPolyfill.needsCentering(this.dialog_)) {\n      dialogPolyfill.reposition(this.dialog_);\n      this.replacedStyleTop_ = true;\n    } else {\n      this.replacedStyleTop_ = false;\n    }\n\n    // Insert backdrop.\n    this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);\n\n    // Focus on whatever inside the dialog.\n    this.focus_();\n  },\n\n  /**\n   * Closes this HTMLDialogElement. This is optional vs clearing the open\n   * attribute, however this fires a 'close' event.\n   *\n   * @param {string=} opt_returnValue to use as the returnValue\n   */\n  close: function(opt_returnValue) {\n    if (!this.dialog_.hasAttribute('open')) {\n      throw new Error('Failed to execute \\'close\\' on dialog: The element does not have an \\'open\\' attribute, and therefore cannot be closed.');\n    }\n    this.setOpen(false);\n\n    // Leave returnValue untouched in case it was set directly on the element\n    if (opt_returnValue !== undefined) {\n      this.dialog_.returnValue = opt_returnValue;\n    }\n\n    // Triggering \"close\" event for any attached listeners on the <dialog>.\n    var closeEvent = new supportCustomEvent('close', {\n      bubbles: false,\n      cancelable: false\n    });\n    this.dialog_.dispatchEvent(closeEvent);\n  }\n\n};\n\nvar dialogPolyfill = {};\n\ndialogPolyfill.reposition = function(element) {\n  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n  var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;\n  element.style.top = Math.max(scrollTop, topValue) + 'px';\n};\n\ndialogPolyfill.isInlinePositionSetByStylesheet = function(element) {\n  for (var i = 0; i < document.styleSheets.length; ++i) {\n    var styleSheet = document.styleSheets[i];\n    var cssRules = null;\n    // Some browsers throw on cssRules.\n    try {\n      cssRules = styleSheet.cssRules;\n    } catch (e) {}\n    if (!cssRules) { continue; }\n    for (var j = 0; j < cssRules.length; ++j) {\n      var rule = cssRules[j];\n      var selectedNodes = null;\n      // Ignore errors on invalid selector texts.\n      try {\n        selectedNodes = document.querySelectorAll(rule.selectorText);\n      } catch(e) {}\n      if (!selectedNodes || !inNodeList(selectedNodes, element)) {\n        continue;\n      }\n      var cssTop = rule.style.getPropertyValue('top');\n      var cssBottom = rule.style.getPropertyValue('bottom');\n      if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndialogPolyfill.needsCentering = function(dialog) {\n  var computedStyle = window.getComputedStyle(dialog);\n  if (computedStyle.position !== 'absolute') {\n    return false;\n  }\n\n  // We must determine whether the top/bottom specified value is non-auto.  In\n  // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but\n  // Firefox returns the used value. So we do this crazy thing instead: check\n  // the inline style and then go through CSS rules.\n  if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||\n      (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {\n    return false;\n  }\n  return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);\n};\n\n/**\n * @param {!Element} element to force upgrade\n */\ndialogPolyfill.forceRegisterDialog = function(element) {\n  if (window.HTMLDialogElement || element.showModal) {\n    console.warn('This browser already supports <dialog>, the polyfill ' +\n        'may not work correctly', element);\n  }\n  if (element.localName !== 'dialog') {\n    throw new Error('Failed to register dialog: The element is not a dialog.');\n  }\n  new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));\n};\n\n/**\n * @param {!Element} element to upgrade, if necessary\n */\ndialogPolyfill.registerDialog = function(element) {\n  if (!element.showModal) {\n    dialogPolyfill.forceRegisterDialog(element);\n  }\n};\n\n/**\n * @constructor\n */\ndialogPolyfill.DialogManager = function() {\n  /** @type {!Array<!dialogPolyfillInfo>} */\n  this.pendingDialogStack = [];\n\n  var checkDOM = this.checkDOM_.bind(this);\n\n  // The overlay is used to simulate how a modal dialog blocks the document.\n  // The blocking dialog is positioned on top of the overlay, and the rest of\n  // the dialogs on the pending dialog stack are positioned below it. In the\n  // actual implementation, the modal dialog stacking is controlled by the\n  // top layer, where z-index has no effect.\n  this.overlay = document.createElement('div');\n  this.overlay.className = '_dialog_overlay';\n  this.overlay.addEventListener('click', function(e) {\n    this.forwardTab_ = undefined;\n    e.stopPropagation();\n    checkDOM([]);  // sanity-check DOM\n  }.bind(this));\n\n  this.handleKey_ = this.handleKey_.bind(this);\n  this.handleFocus_ = this.handleFocus_.bind(this);\n\n  this.zIndexLow_ = 100000;\n  this.zIndexHigh_ = 100000 + 150;\n\n  this.forwardTab_ = undefined;\n\n  if ('MutationObserver' in window) {\n    this.mo_ = new MutationObserver(function(records) {\n      var removed = [];\n      records.forEach(function(rec) {\n        for (var i = 0, c; c = rec.removedNodes[i]; ++i) {\n          if (!(c instanceof Element)) {\n            continue;\n          } else if (c.localName === 'dialog') {\n            removed.push(c);\n          }\n          removed = removed.concat(c.querySelectorAll('dialog'));\n        }\n      });\n      removed.length && checkDOM(removed);\n    });\n  }\n};\n\n/**\n * Called on the first modal dialog being shown. Adds the overlay and related\n * handlers.\n */\ndialogPolyfill.DialogManager.prototype.blockDocument = function() {\n  document.documentElement.addEventListener('focus', this.handleFocus_, true);\n  document.addEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});\n};\n\n/**\n * Called on the first modal dialog being removed, i.e., when no more modal\n * dialogs are visible.\n */\ndialogPolyfill.DialogManager.prototype.unblockDocument = function() {\n  document.documentElement.removeEventListener('focus', this.handleFocus_, true);\n  document.removeEventListener('keydown', this.handleKey_);\n  this.mo_ && this.mo_.disconnect();\n};\n\n/**\n * Updates the stacking of all known dialogs.\n */\ndialogPolyfill.DialogManager.prototype.updateStacking = function() {\n  var zIndex = this.zIndexHigh_;\n\n  for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n    dpi.updateZIndex(--zIndex, --zIndex);\n    if (i === 0) {\n      this.overlay.style.zIndex = --zIndex;\n    }\n  }\n\n  // Make the overlay a sibling of the dialog itself.\n  var last = this.pendingDialogStack[0];\n  if (last) {\n    var p = last.dialog.parentNode || document.body;\n    p.appendChild(this.overlay);\n  } else if (this.overlay.parentNode) {\n    this.overlay.parentNode.removeChild(this.overlay);\n  }\n};\n\n/**\n * @param {Element} candidate to check if contained or is the top-most modal dialog\n * @return {boolean} whether candidate is contained in top dialog\n */\ndialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {\n  while (candidate = findNearestDialog(candidate)) {\n    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {\n      if (dpi.dialog === candidate) {\n        return i === 0;  // only valid if top-most\n      }\n    }\n    candidate = candidate.parentElement;\n  }\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {\n  if (this.containedByTopDialog_(event.target)) { return; }\n\n  if (document.activeElement === document.documentElement) { return; }\n\n  event.preventDefault();\n  event.stopPropagation();\n  safeBlur(/** @type {Element} */ (event.target));\n\n  if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key\n\n  var dpi = this.pendingDialogStack[0];\n  var dialog = dpi.dialog;\n  var position = dialog.compareDocumentPosition(event.target);\n  if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n    if (this.forwardTab_) {\n      // forward\n      dpi.focus_();\n    } else if (event.target !== document.documentElement) {\n      // backwards if we're not already focused on <html>\n      document.documentElement.focus();\n    }\n  }\n\n  return false;\n};\n\ndialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {\n  this.forwardTab_ = undefined;\n  if (event.keyCode === 27) {\n    event.preventDefault();\n    event.stopPropagation();\n    var cancelEvent = new supportCustomEvent('cancel', {\n      bubbles: false,\n      cancelable: true\n    });\n    var dpi = this.pendingDialogStack[0];\n    if (dpi && dpi.dialog.dispatchEvent(cancelEvent)) {\n      dpi.dialog.close();\n    }\n  } else if (event.keyCode === 9) {\n    this.forwardTab_ = !event.shiftKey;\n  }\n};\n\n/**\n * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are\n * removed and immediately readded don't stay modal, they become normal.\n *\n * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed\n */\ndialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {\n  // This operates on a clone because it may cause it to change. Each change also calls\n  // updateStacking, which only actually needs to happen once. But who removes many modal dialogs\n  // at a time?!\n  var clone = this.pendingDialogStack.slice();\n  clone.forEach(function(dpi) {\n    if (removed.indexOf(dpi.dialog) !== -1) {\n      dpi.downgradeModal();\n    } else {\n      dpi.maybeHideModal();\n    }\n  });\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n * @return {boolean} whether the dialog was allowed\n */\ndialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {\n  var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;\n  if (this.pendingDialogStack.length >= allowed) {\n    return false;\n  }\n  if (this.pendingDialogStack.unshift(dpi) === 1) {\n    this.blockDocument();\n  }\n  this.updateStacking();\n  return true;\n};\n\n/**\n * @param {!dialogPolyfillInfo} dpi\n */\ndialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {\n  var index = this.pendingDialogStack.indexOf(dpi);\n  if (index === -1) { return; }\n\n  this.pendingDialogStack.splice(index, 1);\n  if (this.pendingDialogStack.length === 0) {\n    this.unblockDocument();\n  }\n  this.updateStacking();\n};\n\ndialogPolyfill.dm = new dialogPolyfill.DialogManager();\ndialogPolyfill.formSubmitter = null;\ndialogPolyfill.useValue = null;\n\n/**\n * Installs global handlers, such as click listers and native method overrides. These are needed\n * even if a no dialog is registered, as they deal with <form method=\"dialog\">.\n */\nif (window.HTMLDialogElement === undefined) {\n\n  /**\n   * If HTMLFormElement translates method=\"DIALOG\" into 'get', then replace the descriptor with\n   * one that returns the correct value.\n   */\n  var testForm = document.createElement('form');\n  testForm.setAttribute('method', 'dialog');\n  if (testForm.method !== 'dialog') {\n    var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');\n    if (methodDescriptor) {\n      // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything\n      // and don't bother to update the element.\n      var realGet = methodDescriptor.get;\n      methodDescriptor.get = function() {\n        if (isFormMethodDialog(this)) {\n          return 'dialog';\n        }\n        return realGet.call(this);\n      };\n      var realSet = methodDescriptor.set;\n      methodDescriptor.set = function(v) {\n        if (typeof v === 'string' && v.toLowerCase() === 'dialog') {\n          return this.setAttribute('method', v);\n        }\n        return realSet.call(this, v);\n      };\n      Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);\n    }\n  }\n\n  /**\n   * Global 'click' handler, to capture the <input type=\"submit\"> or <button> element which has\n   * submitted a <form method=\"dialog\">. Needed as Safari and others don't report this inside\n   * document.activeElement.\n   */\n  document.addEventListener('click', function(ev) {\n    dialogPolyfill.formSubmitter = null;\n    dialogPolyfill.useValue = null;\n    if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission\n\n    var target = /** @type {Element} */ (ev.target);\n    if (!target || !isFormMethodDialog(target.form)) { return; }\n\n    var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);\n    if (!valid) {\n      if (!(target.localName === 'input' && target.type === 'image')) { return; }\n      // this is a <input type=\"image\">, which can submit forms\n      dialogPolyfill.useValue = ev.offsetX + ',' + ev.offsetY;\n    }\n\n    var dialog = findNearestDialog(target);\n    if (!dialog) { return; }\n\n    dialogPolyfill.formSubmitter = target;\n\n  }, false);\n\n  /**\n   * Replace the native HTMLFormElement.submit() method, as it won't fire the\n   * submit event and give us a chance to respond.\n   */\n  var nativeFormSubmit = HTMLFormElement.prototype.submit;\n  var replacementFormSubmit = function () {\n    if (!isFormMethodDialog(this)) {\n      return nativeFormSubmit.call(this);\n    }\n    var dialog = findNearestDialog(this);\n    dialog && dialog.close();\n  };\n  HTMLFormElement.prototype.submit = replacementFormSubmit;\n\n  /**\n   * Global form 'dialog' method handler. Closes a dialog correctly on submit\n   * and possibly sets its return value.\n   */\n  document.addEventListener('submit', function(ev) {\n    var form = /** @type {HTMLFormElement} */ (ev.target);\n    if (!isFormMethodDialog(form)) { return; }\n    ev.preventDefault();\n\n    var dialog = findNearestDialog(form);\n    if (!dialog) { return; }\n\n    // Forms can only be submitted via .submit() or a click (?), but anyway: sanity-check that\n    // the submitter is correct before using its value as .returnValue.\n    var s = dialogPolyfill.formSubmitter;\n    if (s && s.form === form) {\n      dialog.close(dialogPolyfill.useValue || s.value);\n    } else {\n      dialog.close();\n    }\n    dialogPolyfill.formSubmitter = null;\n\n  }, true);\n}\n\nexport default dialogPolyfill;\n","const environment = {}\n\nfunction setEnvironment({Promise, dialogPolyfill}) {\n  if (Promise) {\n    environment.Promise = Promise\n  }\n\n  if (dialogPolyfill) {\n    environment.dialogPolyfill = dialogPolyfill\n  }\n}\n\nexport {setEnvironment}\nexport default environment\n","const {forEach} = Array.prototype\n\nexport default forEach ||\n  function forEach(iteratee) {\n    let i = 0\n    const {length} = this\n    for (; i < length; i += 1) {\n      iteratee.call(this, this[i], i, this)\n    }\n  }\n","const {hasOwnProperty} = Object.prototype\n\nexport default hasOwnProperty\n","import hasOwn from './has-own'\n\nfunction forIn(iteratee) {\n  let key\n  for (key in this) {\n    if (hasOwn.call(this, key)) {\n      iteratee.call(this, this[key], key, this)\n    }\n  }\n}\n\nexport default forIn\n","import forEach from './for-each'\nimport forIn from './for-in'\n\nconst {assign} = Object\n\nexport default assign ||\n  function assign(target, ...sources) {\n    forEach.call(sources, function(source) {\n      forIn.call(source, function(value, key) {\n        target[key] = value\n      })\n    })\n\n    return target\n  }\n","// eslint-disable-next-line no-new-func, unicorn/new-for-builtins\nconst globalThis = Function('return this')()\n\nexport default globalThis\n","import globalThis from './global-this'\nimport {name as packageName} from '../../package.json'\n\nconst {document} = globalThis\n\nif (!document) {\n  throw new Error(`${packageName} requires a window with a document.`)\n}\n\nexport default document\n","const NS = 'fu'\nconst BLOCK = `${NS}-dialog`\n\nexport const CONTAINER = BLOCK\nexport const HEAD = `${BLOCK}__head`\nexport const TITLE = `${BLOCK}__title`\nexport const BODY = `${BLOCK}__body`\nexport const MESSAGE = `${BLOCK}__message`\nexport const MESSAGE_BODY = `${BLOCK}__message-body`\nexport const INPUT = `${BLOCK}__input`\nexport const FOOT = `${BLOCK}__foot`\nexport const ACTIONS = `${BLOCK}__actions`\nexport const CLOSE_BTN = `${BLOCK}__close`\nexport const ACTION = `${BLOCK}__action`\nexport const ACTION_TYPE_CONFIRM = `${ACTION}--confirm`\nexport const ACTION_TYPE_CANCEL = `${ACTION}--cancel`\nexport const DIALOG_TYPE_ALERT = `${BLOCK}--alert`\nexport const DIALOG_TYPE_CONFIRM = `${BLOCK}--confirm`\nexport const DIALOG_TYPE_PROMPT = `${BLOCK}--prompt`\n","const {toString} = Object.prototype\n\nexport default toString\n","import toString from './to-string'\n\nfunction getType(x) {\n  return toString.call(x).slice(8, -1)\n}\n\nexport default getType\n","import getType from './get-type'\n\nconst {isArray} = Array\n\nexport default isArray ||\n  function isArray(x) {\n    return getType(x) === 'Array'\n  }\n","import document from '../utils/document'\n\nconst div = document.createElement('div')\n\nexport const SUPPORTS_CLASS_LIST = 'classList' in div\nexport const SUPPORTS_TEXT_CONTENT = 'textContent' in div\nexport const SUPPORTS_EVENT_LISTENER = 'addEventListener' in div\n","import isArray from '../utils/is-array'\n\nfunction parseClassNames(className = []) {\n  let classList = ''\n\n  if (isArray(className)) {\n    classList = className\n  } else {\n    classList = String(className || '').split(' ')\n  }\n\n  return classList\n}\n\nexport default parseClassNames\n","import isArray from '../utils/is-array'\nimport document from '../utils/document'\nimport assign from '../utils/assign'\nimport {SUPPORTS_TEXT_CONTENT} from './supports'\nimport parseClassNames from './parse-classnames'\n\nfunction parseDomProperties(properties = {}) {\n  if (isArray(properties) || typeof properties === 'string') {\n    properties = {\n      className: properties,\n    }\n  }\n\n  const classList = parseClassNames(properties.className)\n\n  if (classList.length !== 0) {\n    properties.className = classList.join(' ')\n  } else {\n    delete properties.className\n  }\n\n  if (!SUPPORTS_TEXT_CONTENT && 'textContent' in properties) {\n    // eslint-disable-next-line unicorn/prefer-text-content\n    properties.innerText = properties.textContent\n    delete properties.textContent\n  }\n\n  return properties\n}\n\nconst defaultDomProperties = {\n  button: {\n    type: 'button',\n  },\n  input: {\n    type: 'text',\n  },\n}\n\nfunction setDefaultProperties(properties, tagName) {\n  const defaultProps = defaultDomProperties[tagName]\n\n  if (defaultProps) {\n    properties = assign({}, defaultProps, properties)\n  }\n\n  return properties\n}\n\nfunction createElement(parentNode, tagName, properties = {}) {\n  if (typeof parentNode === 'string') {\n    properties = tagName\n    tagName = parentNode\n    parentNode = null\n  }\n\n  const element = document.createElement(tagName)\n  properties = parseDomProperties(properties)\n  properties = setDefaultProperties(properties, tagName)\n\n  assign(element, properties)\n\n  if (parentNode) {\n    parentNode.appendChild(element)\n  }\n\n  return element\n}\n\nexport default createElement\n","const MAX_SAFE_INTEGER = 9007199254740991\n\nfunction isLength(x) {\n  return typeof x === 'number' && x > -1 && x % 1 === 0 && x <= MAX_SAFE_INTEGER\n}\n\nexport default isLength\n","import isLength from './is-length'\n\nfunction isArrayLike(x) {\n  return x && typeof x !== 'function' && isLength(x.length)\n}\n\nexport default isArrayLike\n","function isNode(x) {\n  return x && typeof x.nodeType === 'number'\n}\n\nexport default isNode\n","import isArrayLike from '../utils/is-array-like'\nimport forEach from '../utils/for-each'\nimport isNode from '../utils/is-node'\n\nfunction appendElement(parent, children) {\n  if (typeof children === 'string') {\n    parent.innerHTML = children\n    return parent\n  }\n\n  if (isNode(children)) {\n    parent.appendChild(children)\n    return parent\n  }\n\n  if (isArrayLike(children)) {\n    forEach.call(children, function(child) {\n      appendElement(parent, child)\n    })\n\n    return parent\n  }\n\n  return parent\n}\n\nexport default appendElement\n","export default () => false\n","export default () => true\n","// import {\n//   SUPPORTS_EVENT_LISTENER\n// } from './supports'\n\nimport returnFalse from '../utils/return-false'\nimport returnTrue from '../utils/return-true'\n\nfunction isListener(x) {\n  return typeof x === 'function' || typeof x === 'boolean'\n}\n\nfunction parseListener(listener) {\n  if (listener === true) {\n    listener = returnTrue\n  }\n\n  if (listener === false) {\n    listener = returnFalse\n  }\n\n  return listener\n}\n\nfunction addListener(element, type, listener, options = false) {\n  if (isListener(type)) {\n    options = listener || false\n    listener = type\n    type = 'click'\n  }\n\n  listener = parseListener(listener)\n\n  element.addEventListener(type, listener, options)\n  return element\n}\n\nexport default addListener\n","import addListener from './add-listener'\n\nfunction preventDefault(event) {\n  event.preventDefault()\n  return false\n}\n\nfunction preventEvent(element, type) {\n  return addListener(element, type, preventDefault)\n}\n\nexport default preventEvent\n","import assign from '../utils/assign'\n\nconst defaults = {\n  title: '提示',\n  confirmActionText: '确定',\n  cancelActionText: '取消',\n  promptPlaceholder: '请输入',\n  reverseActions: false,\n  closeButton: '关闭',\n  preventCancel: true,\n}\n\nfunction setDefaults(options, value) {\n  if (arguments.length === 2) {\n    options = {\n      [options]: value,\n    }\n  }\n\n  return assign(defaults, options)\n}\n\nexport {setDefaults}\n\nexport default defaults\n","import defaults from './defaults'\nimport getType from '../utils/get-type'\nimport assign from '../utils/assign'\n\nfunction parseOptions(options, defaultOptions = defaults) {\n  const type = getType(options)\n\n  if (type !== 'Object') {\n    options = {\n      message: options,\n    }\n  }\n\n  options = assign(defaultOptions, options)\n\n  return options\n}\n\nexport default parseOptions\n","export default () => {}\n","import assign from '../utils/assign'\nimport noop from '../utils/noop'\nimport returnFalse from '../utils/return-false'\nimport returnTrue from '../utils/return-true'\nimport parseClassNames from '../dom/parse-classnames'\nimport createElement from '../dom/create-element'\nimport * as classNames from './classnames'\nimport defaults from './defaults'\n\nfunction createAction(actionText, properties, action = noop) {\n  if (typeof properties === 'function') {\n    action = properties\n    properties = {}\n  }\n\n  if (action === false) {\n    action = returnFalse\n  }\n\n  if (action === true) {\n    action = returnTrue\n  }\n\n  properties = assign(\n    {\n      textContent: String(actionText),\n    },\n    properties\n  )\n\n  const classList = parseClassNames(properties.className)\n  classList.unshift(classNames.ACTION)\n  properties.className = classList\n\n  const element = createElement('button', properties)\n\n  return {\n    el: element,\n    action,\n  }\n}\n\nfunction createTypedAction(type) {\n  let typedActionClassName = ''\n\n  if (type === 'confirm') {\n    typedActionClassName = classNames.ACTION_TYPE_CONFIRM\n  } else if (type === 'cancel') {\n    typedActionClassName = classNames.ACTION_TYPE_CANCEL\n  }\n\n  return function(actionText, action) {\n    const DEFAULT_TEXT = defaults[`${type}ActionText`]\n\n    if (typeof actionText === 'function') {\n      action = actionText\n      actionText = DEFAULT_TEXT\n    }\n\n    actionText = actionText || DEFAULT_TEXT\n\n    return createAction(\n      actionText,\n      {\n        className: typedActionClassName,\n      },\n      action\n    )\n  }\n}\n\nexport const createConfirmAction = createTypedAction('confirm')\nexport const createCancelAction = createTypedAction('cancel')\n\nexport default createAction\n","import isArrayLike from '../utils/is-array-like'\nimport isNode from '../utils/is-node'\nimport createAction, {\n  createConfirmAction,\n  createCancelAction,\n} from './create-action'\n\nfunction parseAction(action) {\n  if (typeof action === 'string') {\n    action = {\n      text: action,\n    }\n  }\n\n  if (isArrayLike(action)) {\n    return parseAction(action[0])\n  }\n\n  if (isNode(action)) {\n    action = {\n      el: action,\n    }\n  }\n\n  if (typeof action.el === 'function') {\n    action.el = action.el()\n  }\n\n  if (action === createConfirmAction || action === createCancelAction) {\n    action = action()\n  }\n\n  if (typeof action === 'function' || typeof action === 'boolean') {\n    action = createConfirmAction(action)\n  }\n\n  if (!action.el) {\n    action = createAction(action.text, action.action)\n  }\n\n  return action\n}\n\nexport default parseAction\n","import addListener from '../dom/add-listener'\n\nfunction renderAction(container, button, dialog) {\n  const {el, action} = button\n\n  addListener(el, 'click', function() {\n    let result\n\n    if (action) {\n      result = action.call(dialog)\n    }\n\n    if (result !== false) {\n      dialog.remove()\n    }\n  })\n\n  container.appendChild(el)\n\n  return container\n}\n\nexport default renderAction\n","import document from '../utils/document'\nimport * as classNames from './classnames'\n\nimport createElement from '../dom/create-element'\nimport appendElement from '../dom/append-elements'\nimport addListener from '../dom/add-listener'\nimport preventEvent from '../dom/prevent-event'\nimport parseDialogOptions from './parse-options'\nimport parseAction from './parse-action'\nimport renderAction from './render-action'\nimport environment from './env'\nimport forEach from '../utils/for-each'\n\nfunction registerDialog(dialog) {\n  const {dialogPolyfill = {}} = environment\n  const {registerDialog} = dialogPolyfill\n\n  if (registerDialog) {\n    return registerDialog(dialog)\n  }\n\n  return dialog\n}\n\nclass Dialog {\n  constructor(options, open) {\n    const dialog = this\n\n    options = parseDialogOptions(options)\n\n    const hasTitle = !(\n      options.title === null ||\n      options.title === false ||\n      typeof options.title === 'undefined'\n    )\n    const hasContent = options.content\n    const hasMessage = 'message' in options\n    const actions = (options.actions || []).map(parseAction)\n    const {closeButton: closeButtonText = '', onClose} = options\n    const {preventCancel, onCancel} = options\n\n    const container = createElement('dialog', classNames.CONTAINER)\n    registerDialog(container)\n\n    if (preventCancel) {\n      preventEvent(container, 'cancel')\n    } else {\n      addListener(container, 'cancel', function() {\n        if (onCancel) {\n          onCancel()\n        }\n        dialog.remove()\n      })\n    }\n\n    this.container = container\n\n    if (closeButtonText) {\n      const closeButton = createElement(container, 'button', {\n        className: classNames.CLOSE_BTN,\n        innerHTML: `<span>${String(closeButtonText)}</span>`,\n      })\n\n      addListener(closeButton, 'click', function() {\n        if (onClose) {\n          onClose()\n        }\n        dialog.remove()\n      })\n    }\n\n    // head\n    if (hasTitle) {\n      const head = createElement(container, 'div', classNames.HEAD)\n      this.head = head\n\n      const title = createElement(head, 'div', {\n        className: classNames.TITLE,\n        textContent: String(options.title),\n      })\n    }\n\n    // body\n    if (hasContent || hasMessage) {\n      const body = createElement(container, 'div', classNames.BODY)\n      this.body = body\n\n      if (hasContent) {\n        appendElement(body, options.content)\n      } else if (hasMessage) {\n        const message = createElement(body, 'div', classNames.MESSAGE)\n        const messageBody = createElement(message, 'span', {\n          className: classNames.MESSAGE_BODY,\n          textContent: String(options.message),\n        })\n      }\n    }\n\n    // foot\n    if (actions.length !== 0) {\n      const foot = createElement(container, 'div', classNames.FOOT)\n      this.foot = foot\n\n      const actionsContainer = createElement(foot, 'div', classNames.ACTIONS)\n\n      forEach.call(actions, action =>\n        renderAction(actionsContainer, action, dialog)\n      )\n    }\n\n    document.body.appendChild(this.container)\n\n    if (open !== false) {\n      this.open()\n    }\n  }\n\n  open() {\n    this.container.showModal()\n  }\n\n  remove() {\n    this.container.parentNode.removeChild(this.container)\n  }\n\n  close() {\n    this.container.close()\n  }\n}\n\nexport default Dialog\n","import noop from '../utils/noop'\nimport environment from './env'\n\nfunction shortcutWrapper(method) {\n  return function shortcutWrapper(options, onAction = noop) {\n    const {Promise} = environment\n    let dialog\n\n    if (Promise) {\n      const promise = new Promise(resolve => {\n        dialog = method(options, function(result) {\n          resolve(result)\n          return onAction.call(this, result)\n        })\n      })\n      promise.dialog = dialog\n\n      return promise\n    }\n\n    return method(options, onAction)\n  }\n}\n\nexport default shortcutWrapper\n","import {SUPPORTS_CLASS_LIST} from './supports'\n\nfunction addClassByClassList(element, className) {\n  element.classList.add(className)\n  return element\n}\n\nfunction addClassByClassName(element, className) {\n  element.className += ` ${className}`\n  return element\n}\n\nexport default (SUPPORTS_CLASS_LIST ? addClassByClassList : addClassByClassName)\n","import noop from '../utils/noop'\nimport * as classNames from './classnames'\nimport createElement from '../dom/create-element'\nimport addClass from '../dom/add-class'\nimport appendElement from '../dom/append-elements'\nimport defaults from './defaults'\nimport Dialog from './dialog'\nimport {createConfirmAction, createCancelAction} from './create-action'\nimport parseDialogOptions from './parse-options'\n\nfunction alert(options, onAction = noop) {\n  options = parseDialogOptions(options)\n\n  if (!options.actions) {\n    const confirmButton = createConfirmAction(onAction)\n\n    options.actions = [confirmButton]\n  }\n\n  options.onClose = onAction\n\n  const dialog = new Dialog(options)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_ALERT)\n\n  return dialog\n}\n\nfunction confirm(options, onAction = noop) {\n  options = parseDialogOptions(options)\n\n  function onConfirm() {\n    return onAction.call(this, true)\n  }\n\n  function onCancel() {\n    return onAction.call(this, false)\n  }\n\n  if (!options.actions) {\n    const confirmButton = createConfirmAction(onConfirm)\n    const cancelButton = createCancelAction(onCancel)\n\n    if (defaults.reverseActions) {\n      options.actions = [cancelButton, confirmButton]\n    } else {\n      options.actions = [confirmButton, cancelButton]\n    }\n  }\n\n  options.onClose = onCancel\n\n  const dialog = new Dialog(options)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_CONFIRM)\n\n  return dialog\n}\n\nfunction prompt(options, onAction = noop) {\n  options = parseDialogOptions(options, {\n    title: null,\n    closeButton: false,\n  })\n\n  if (!options.content && !('message' in options)) {\n    options.content = []\n  }\n\n  let {input} = options\n\n  if (!input) {\n    if (options.rows) {\n      input = createElement('textarea', {\n        className: classNames.INPUT,\n        rows: options.rows,\n        placeholder: options.placeholder || defaults.promptPlaceholder,\n      })\n    } else {\n      input = createElement('input', {\n        className: classNames.INPUT,\n        placeholder: options.placeholder || defaults.promptPlaceholder,\n      })\n    }\n  }\n\n  function onConfirm() {\n    return onAction.call(this, input.value)\n  }\n\n  function onCancel() {\n    return onAction.call(this)\n  }\n\n  if (!options.actions) {\n    const confirmButton = createConfirmAction(onConfirm)\n\n    const cancelButton = createCancelAction(onCancel)\n\n    if (defaults.reverseActions) {\n      options.actions = [cancelButton, confirmButton]\n    } else {\n      options.actions = [confirmButton, cancelButton]\n    }\n  }\n\n  options.onClose = onCancel\n\n  const dialog = new Dialog(options, false)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_PROMPT)\n  appendElement(dialog.body, input)\n  dialog.open()\n\n  return dialog\n}\n\nexport {alert, confirm, prompt}\n","import Dialog from './dialog'\nimport shortCutWrapper from './shortcut-wrapper'\nimport assign from '../utils/assign'\nimport defaults, {setDefaults} from './defaults'\nimport {alert, confirm, prompt} from './shortcuts'\nimport createAction, {\n  createConfirmAction,\n  createCancelAction,\n} from './create-action'\nimport environment, {setEnvironment} from './env'\n\nfunction exportModule() {\n  function dialog(options) {\n    return new Dialog(options)\n  }\n\n  assign(dialog, {\n    env: environment,\n    setEnvironment,\n    defaults,\n    setDefaults,\n    dialog,\n    Dialog,\n    alert: shortCutWrapper(alert),\n    confirm: shortCutWrapper(confirm),\n    prompt: shortCutWrapper(prompt),\n    action: assign(createAction, {\n      confirm: createConfirmAction,\n      cancel: createCancelAction,\n    }),\n    btn: {\n      confirm: createConfirmAction(),\n      cancel: createCancelAction(),\n    },\n  })\n\n  return dialog\n}\n\nexport default exportModule\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport Promise from 'es6-promise'\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport dialogPolyfill from 'dialog-polyfill'\n\nimport environment from './core/env'\nimport assign from './utils/assign'\nimport exportModule from './core/export-module'\n\nassign(environment, {\n  Promise,\n  dialogPolyfill,\n})\n\nexport default exportModule()\n"],"names":["supportCustomEvent","window","CustomEvent","event","x","ev","document","createEvent","initCustomEvent","bubbles","cancelable","detail","prototype","Event","createsStackingContext","el","body","s","getComputedStyle","invalid","k","ok","undefined","opacity","position","webkitOverflowScrolling","parentElement","findNearestDialog","localName","safeBlur","blur","inNodeList","nodeList","node","i","length","isFormMethodDialog","hasAttribute","getAttribute","toLowerCase","dialogPolyfillInfo","dialog","dialog_","replacedStyleTop_","openAsModal_","setAttribute","show","bind","showModal","close","returnValue","mo","MutationObserver","maybeHideModal","observe","attributes","attributeFilter","removed","cb","downgradeModal","timeout","delayModel","target","cand","type","substr","clearTimeout","setTimeout","forEach","name","addEventListener","Object","defineProperty","set","setOpen","get","backdrop_","createElement","className","backdropClick_","contains","style","zIndex","top","parentNode","removeChild","dialogPolyfill","dm","removeDialog","value","removeAttribute","e","fake","insertBefore","firstChild","tabIndex","focus","redirectedEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","dispatchEvent","stopPropagation","focus_","querySelector","opts","query","map","push","join","activeElement","updateZIndex","dialogZ","backdropZ","Error","open","pushDialog","console","warn","needsCentering","reposition","nextSibling","opt_returnValue","closeEvent","element","scrollTop","documentElement","topValue","innerHeight","offsetHeight","Math","max","isInlinePositionSetByStylesheet","styleSheets","styleSheet","cssRules","j","rule","selectedNodes","querySelectorAll","selectorText","cssTop","getPropertyValue","cssBottom","computedStyle","bottom","forceRegisterDialog","HTMLDialogElement","registerDialog","DialogManager","pendingDialogStack","checkDOM","checkDOM_","overlay","forwardTab_","handleKey_","handleFocus_","zIndexLow_","zIndexHigh_","mo_","records","rec","c","removedNodes","Element","concat","blockDocument","childList","subtree","unblockDocument","removeEventListener","disconnect","updateStacking","dpi","last","p","appendChild","containedByTopDialog_","candidate","preventDefault","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","keyCode","cancelEvent","clone","slice","indexOf","allowed","unshift","index","splice","formSubmitter","useValue","testForm","method","methodDescriptor","getOwnPropertyDescriptor","HTMLFormElement","realGet","call","realSet","v","defaultPrevented","form","valid","offsetX","offsetY","nativeFormSubmit","submit","replacementFormSubmit","environment","setEnvironment","Promise","Array","iteratee","hasOwnProperty","forIn","key","hasOwn","assign","sources","source","globalThis","Function","packageName","NS","BLOCK","CONTAINER","HEAD","TITLE","BODY","MESSAGE","MESSAGE_BODY","INPUT","FOOT","ACTIONS","CLOSE_BTN","ACTION","ACTION_TYPE_CONFIRM","ACTION_TYPE_CANCEL","DIALOG_TYPE_ALERT","DIALOG_TYPE_CONFIRM","DIALOG_TYPE_PROMPT","toString","getType","isArray","div","SUPPORTS_CLASS_LIST","SUPPORTS_TEXT_CONTENT","parseClassNames","classList","String","split","parseDomProperties","properties","innerText","textContent","defaultDomProperties","input","setDefaultProperties","tagName","defaultProps","MAX_SAFE_INTEGER","isLength","isArrayLike","isNode","nodeType","appendElement","parent","children","innerHTML","child","isListener","parseListener","listener","returnTrue","returnFalse","addListener","options","preventEvent","defaults","title","confirmActionText","cancelActionText","promptPlaceholder","reverseActions","closeButton","preventCancel","setDefaults","arguments","parseOptions","defaultOptions","message","createAction","actionText","action","noop","classNames","createTypedAction","typedActionClassName","DEFAULT_TEXT","createConfirmAction","createCancelAction","parseAction","text","renderAction","container","result","remove","Dialog","parseDialogOptions","hasTitle","hasContent","content","hasMessage","actions","closeButtonText","onClose","onCancel","head","messageBody","foot","actionsContainer","shortcutWrapper","onAction","promise","resolve","addClassByClassList","add","addClassByClassName","alert","confirmButton","addClass","confirm","onConfirm","cancelButton","prompt","rows","placeholder","exportModule","env","shortCutWrapper","cancel","btn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,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"}