/*! fu-dialog v1.0.5 | (c) 2019 fisker | MIT */var commonjsGlobal="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window;function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var es6Promise=createCommonjsModule(function(e){(function(t,o){e.exports=o()})(commonjsGlobal,function(){function e(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}function t(e){return"function"==typeof e}function o(){return"undefined"==typeof O?n():function(){O(a)}}function n(){var e=setTimeout;return function(){return e(a,1)}}function a(){for(var e=0;e<N;e+=2){var t=z[e],o=z[e+1];t(o),z[e]=void 0,z[e+1]=void 0}N=0}function l(e,t){var o=this,n=new this.constructor(s);void 0===n[V]&&w(n);var a=o._state;if(a){var l=arguments[a-1];L(function(){return M(a,n,l,o._result)})}else v(o,n,e,t);return n}function r(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var o=new t(s);return b(o,e),o}function s(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function c(){return new TypeError("A promises callback cannot return that same promise.")}function u(e){try{return e.then}catch(e){return Z.error=e,Z}}function p(e,t,o,n){try{e.call(t,o,n)}catch(t){return t}}function g(e,t,o){L(function(e){var n=!1,a=p(o,t,function(o){n||(n=!0,t===o?f(e,o):b(e,o))},function(t){n||(n=!0,y(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&a&&(n=!0,y(e,a))},e)}function m(e,t){1===t._state?f(e,t._result):2===t._state?y(e,t._result):v(t,void 0,function(t){return b(e,t)},function(t){return y(e,t)})}function _(e,o,n){o.constructor===e.constructor&&n===l&&o.constructor.resolve===r?m(e,o):n===Z?(y(e,Z.error),Z.error=null):void 0===n?f(e,o):t(n)?g(e,o,n):f(e,o)}function b(t,o){t===o?y(t,d()):e(o)?_(t,o,u(o)):f(t,o)}function h(e){e._onerror&&e._onerror(e._result),D(e)}function f(e,t){void 0!==e._state||(e._result=t,e._state=1,0!==e._subscribers.length&&L(D,e))}function y(e,t){void 0!==e._state||(e._state=2,e._result=t,L(h,e))}function v(e,t,o,n){var a=e._subscribers,l=a.length;e._onerror=null,a[l]=t,a[l+1]=o,a[l+2]=n,0===l&&e._state&&L(D,e)}function D(e){var t=e._subscribers,o=e._state;if(0!==t.length){for(var n=void 0,a=void 0,l=e._result,r=0;r<t.length;r+=3)n=t[r],a=t[r+o],n?M(o,n,a,l):a(l);e._subscribers.length=0}}function k(e,t){try{return e(t)}catch(t){return Z.error=t,Z}}function M(e,o,n,a){var l,i,r,s,d=t(n);if(!d)l=a,r=!0;else if(l=k(n,a),l===Z?(s=!0,i=l.error,l.error=null):r=!0,o===l)return void y(o,c());if(void 0!==o._state);else d&&r?b(o,l):s?y(o,i):1===e?f(o,l):2===e&&y(o,l)}function x(t,o){try{o(function(e){b(t,e)},function(e){y(t,e)})}catch(o){y(t,o)}}function S(){return X++}function w(e){e[V]=X++,e._state=void 0,e._result=void 0,e._subscribers=[]}function E(){return new Error("Array Methods must be provided an Array")}function A(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function C(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var T=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var P=T,N=0,O=void 0,I=void 0,L=function(e,t){z[N]=e,z[N+1]=t,N+=2,2===N&&(I?I(a):B())},j="undefined"==typeof window?void 0:window,F=j||{},H=F.MutationObserver||F.WebKitMutationObserver,R="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,z=Array(1e3),B=void 0;B=R?function(){return function(){return process.nextTick(a)}}():H?function(){var e=0,t=new H(a),o=document.createTextNode("");return t.observe(o,{characterData:!0}),function(){o.data=e=++e%2}}():K?function(){var e=new MessageChannel;return e.port1.onmessage=a,function(){return e.port2.postMessage(0)}}():void 0===j&&"function"==typeof commonjsRequire?function(){try{var e=Function("return this")().require("vertx");return O=e.runOnLoop||e.runOnContext,o()}catch(t){return n()}}():n();var V=Math.random().toString(36).substring(2),q=void 0,Y=2,Z={error:null},X=0,i=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(s),this.promise[V]||w(this.promise),P(t)?(this.length=t.length,this._remaining=t.length,this._result=Array(this.length),0===this.length?f(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&f(this.promise,this._result))):y(this.promise,E())}return e.prototype._enumerate=function(e){for(var t=0;this._state===q&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var o=this._instanceConstructor,n=o.resolve;if(n===r){var a=u(e);if(a===l&&e._state!==q)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(o===G){var i=new o(s);_(i,e,a),this._willSettleAt(i,t)}else this._willSettleAt(new o(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,o){var n=this.promise;n._state===q&&(this._remaining--,e===Y?y(n,o):this._result[t]=o),0===this._remaining&&f(n,this._result)},e.prototype._willSettleAt=function(e,t){var o=this;v(e,void 0,function(e){return o._settledAt(1,t,e)},function(e){return o._settledAt(Y,t,e)})},e}(),G=function(){function e(t){this[V]=S(),this._result=this._state=void 0,this._subscribers=[],s!==t&&("function"!=typeof t&&A(),this instanceof e?x(this,t):C())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var o=this,n=o.constructor;return t(e)?o.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):o.then(e,e)},e}();return G.prototype.then=l,G.all=function(e){return new i(this,e).promise},G.race=function(e){var t=this;return P(e)?new t(function(o,n){for(var a=e.length,l=0;l<a;l++)t.resolve(e[l]).then(o,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},G.resolve=r,G.reject=function(e){var t=this,o=new t(s);return y(o,e),o},G._setScheduler=function(e){I=e},G._setAsap=function(e){L=e},G._asap=L,G.polyfill=function(){var e;if("undefined"!=typeof commonjsGlobal)e=commonjsGlobal;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var o=null;try{o=Object.prototype.toString.call(t.resolve())}catch(t){}if("[object Promise]"===o&&!t.cast)return}e.Promise=G},G.Promise=G,G})}),dialogPolyfill=createCommonjsModule(function(e){(function(){function t(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),o=function(e,o){return void 0!==t[e]&&t[e]!==o};if(1>t.opacity||o("zIndex","auto")||o("transform","none")||o("mixBlendMode","normal")||o("filter","none")||o("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1}function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function n(e){e&&e.blur&&e!==document.body&&e.blur()}function a(e,t){for(var o=0;o<e.length;++o)if(e[o]===t)return!0;return!1}function l(e){return!!(e&&e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function i(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){var t=new MutationObserver(this.maybeHideModal.bind(this));t.observe(e,{attributes:!0,attributeFilter:["open"]})}else{var o,n=!1,a=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),l=function(t){if(t.target===e){n|="DOMNodeRemoved"===t.type.substr(0,14),window.clearTimeout(o),o=window.setTimeout(a,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,l)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}var r=window.CustomEvent;r&&"object"!=typeof r||(r=function(e,t){t=t||{};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),o},r.prototype=window.Event.prototype),i.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(!this.dialog_.hasAttribute("tabindex")){var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}else this.dialog_.focus();var o=document.createEvent("MouseEvents");o.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(o),t.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&0<=this.dialog_.tabIndex&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push("[tabindex]:not([disabled]):not([tabindex=\"\"])"),e=this.dialog_.querySelector(t.join(", "))}n(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");t(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var d={};if(d.reposition=function(e){var t=Math.max,o=document.body.scrollTop||document.documentElement.scrollTop,n=o+(window.innerHeight-e.offsetHeight)/2;e.style.top=t(o,n)+"px"},d.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var o=document.styleSheets[t],n=null;try{n=o.cssRules}catch(t){}if(n)for(var l=0;l<n.length;++l){var r=n[l],s=null;try{s=document.querySelectorAll(r.selectorText)}catch(t){}if(s&&a(s,e)){var d=r.style.getPropertyValue("top"),c=r.style.getPropertyValue("bottom");if(d&&"auto"!==d||c&&"auto"!==c)return!0}}}return!1},d.needsCentering=function(e){var t=window.getComputedStyle(e);return"absolute"===t.position&&("auto"===e.style.top||""===e.style.top)&&("auto"===e.style.bottom||""===e.style.bottom)&&!d.isInlinePositionSetByStylesheet(e)},d.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new i(e)},d.registerDialog=function(e){e.showModal||d.forceRegisterDialog(e)},d.DialogManager=function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(o){this.forwardTab_=void 0,o.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var o=[];e.forEach(function(e){for(var t,n=0;t=e.removedNodes[n];++n){if(!(t instanceof Element))continue;else"dialog"===t.localName&&o.push(t);o=o.concat(t.querySelectorAll("dialog"))}}),o.length&&t(o)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,o=0;e=this.pendingDialogStack[o];++o)e.updateZIndex(--t,--t),0==o&&(this.overlay.style.zIndex=--t);var n=this.pendingDialogStack[0];if(n){var a=n.dialog.parentNode||document.body;a.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0==n;e=e.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),n(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0],o=t.dialog,a=o.compareDocumentPosition(e.target);return a&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),o=this.pendingDialogStack[0];o&&o.dialog.dispatchEvent(t)&&o.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},d.DialogManager.prototype.checkDOM_=function(e){var t=this.pendingDialogStack.slice();t.forEach(function(t){-1===e.indexOf(t.dialog)?t.maybeHideModal():t.downgradeModal()})},d.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1===t||(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,void 0===window.HTMLDialogElement){var c=document.createElement("form");if(c.setAttribute("method","dialog"),"dialog"!==c.method){var u=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(u){var p=u.get;u.get=function(){return l(this)?"dialog":p.call(this)};var g=u.set;u.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):g.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",u)}}document.addEventListener("click",function(e){if(d.formSubmitter=null,d.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&l(t.form)){var n="submit"===t.type&&-1<["button","input"].indexOf(t.localName);if(!n){if("input"!==t.localName||"image"!==t.type)return;d.useValue=e.offsetX+","+e.offsetY}var a=o(t);a&&(d.formSubmitter=t)}}},!1);var m=HTMLFormElement.prototype.submit,_=function(){if(!l(this))return m.call(this);var e=o(this);e&&e.close()};HTMLFormElement.prototype.submit=_,document.addEventListener("submit",function(e){var t=e.target;if(l(t)){e.preventDefault();var n=o(t);if(n){var a=d.formSubmitter;a&&a.form===t?n.close(d.useValue||a.value):n.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,"object"==typeof e.exports?e.exports=d:window.dialogPolyfill=d})()}),env={},forEach=Array.prototype.forEach,forEach$1=forEach||function(e){for(var t=0,o=this.length;t<o;t++)e.call(this,this[t],t,this)},hasOwnProperty=Object.prototype.hasOwnProperty;function forIn(e){for(var t in this)hasOwnProperty.call(this,t)&&e.call(this,this[t],t,this)}var assign=Object.assign,assign$1=assign||function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return forEach$1.call(o,function(t){forIn.call(t,function(t,o){e[o]=t})}),e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var globalThis=Function("return this")(),name="fu-dialog",document$1=globalThis.document;if(!document$1)throw new Error("".concat(name," requires a window with a document."));var NS="fu-dialog",CONTAINER="fu-dialog",HEAD="".concat("fu-dialog","__head"),TITLE="".concat("fu-dialog","__title"),BODY="".concat("fu-dialog","__body"),MESSAGE="".concat("fu-dialog","__message"),MESSAGE_BODY="".concat("fu-dialog","__message-body"),INPUT="".concat("fu-dialog","__input"),FOOT="".concat("fu-dialog","__foot"),ACTIONS="".concat("fu-dialog","__actions"),CLOSE_BTN="".concat("fu-dialog","__close"),ACTION="".concat("fu-dialog","__action"),ACTION_TYPE_CONFIRM="".concat(ACTION,"--confirm"),ACTION_TYPE_CANCEL="".concat(ACTION,"--cancel"),DIALOG_TYPE_ALERT="".concat("fu-dialog","--alert"),DIALOG_TYPE_CONFIRM="".concat("fu-dialog","--confirm"),DIALOG_TYPE_PROMPT="".concat("fu-dialog","--prompt"),toString=Object.prototype.toString;function getType(e){return toString.call(e).slice(8,-1)}var isArray=Array.isArray,isArray$1=isArray||function(e){return"Array"===getType(e)},div=document$1.createElement("div"),SUPPORTS_CLASS_LIST="classList"in div,SUPPORTS_TEXT_CONTENT="textContent"in div;function parseClassNames(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t="";return t=isArray$1(e)?e:((e||"")+"").split(" "),t}function parseDomProps(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(isArray$1(e)||"string"==typeof e)&&(e={className:e});var t=parseClassNames(e.className);return t.length?e.className=t.join(" "):delete e.className,!SUPPORTS_TEXT_CONTENT&&"textContent"in e&&(e.innerText=e.textContent,delete e.textContent),e}var defaultDomProps={button:{type:"button"},input:{type:"text"}};function setDefaultProps(e,t){var o=defaultDomProps[t];return o&&(e=assign$1({},o,e)),e}function createElement(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof e&&(o=t,t=e,e=null);var n=document$1.createElement(t);return o=parseDomProps(o),o=setDefaultProps(o,t),assign$1(n,o),e&&e.appendChild(n),n}var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=MAX_SAFE_INTEGER}function isArrayLike(e){return e&&"function"!=typeof e&&isLength(e.length)}function isNode(e){return e&&"number"==typeof e.nodeType}function appendElement(e,t){return"string"==typeof t?(e.innerHTML=t,e):isNode(t)?(e.appendChild(t),e):isArrayLike(t)?(forEach$1.call(t,function(t){appendElement(e,t)}),e):e}var returnFalse=function(){return!1},returnTrue=function(){return!0};function isListener(e){return"function"==typeof e||"boolean"==typeof e}function parseListener(e){return!0===e&&(e=returnTrue),!1===e&&(e=returnFalse),e}function addListener(e,t,o){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];return isListener(t)&&(n=o||!1,o=t,t="click"),o=parseListener(o),e.addEventListener(t,o,n),e}function preventDefault(t){return t.preventDefault(),!1}function preventEvent(e,t){return addListener(e,t,preventDefault)}var defaultSettings={title:"\u63D0\u793A",confirmActionText:"\u786E\u5B9A",cancelActionText:"\u53D6\u6D88",promptPlaceholder:"\u8BF7\u8F93\u5165",reverseActions:!1,closeButton:"\u5173\u95ED",preventCancel:!0};function parseOptions(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:defaultSettings,o=getType(e);return"Object"!==o&&(e={message:e}),e=assign$1(t,e),e}var noop=function(){};function createAction(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:noop;"function"==typeof t&&(o=t,t={}),!1===o&&(o=returnFalse),!0===o&&(o=returnTrue),t=assign$1({textContent:e+""},t);var n=parseClassNames(t.className);n.unshift(ACTION),t.className=n;var a=createElement("button",t);return{el:a,action:o}}function createTypedAction(e){var t="";return"confirm"===e?t=ACTION_TYPE_CONFIRM:"cancel"==e&&(t=ACTION_TYPE_CANCEL),function(o,n){var a=defaultSettings["".concat(e,"ActionText")];return"function"==typeof o&&(n=o,o=a),o=o||a,createAction(o,{className:t},n)}}var createConfirmAction=createTypedAction("confirm"),createCancelAction=createTypedAction("cancel");function parseAction(e){return("string"==typeof e&&(e={text:e}),isArrayLike(e))?parseAction(e[0]):(isNode(e)&&(e={el:e}),"function"==typeof e.el&&(e.el=e.el()),("function"==typeof e||"boolean"==typeof e)&&(e=createConfirmAction(e)),e.el||(e=createAction(e.text,e.action)),e)}function renderAction(e,t,o){var n=t.el,a=t.action;return addListener(n,"click",function(){var e;a&&(e=a.call(o)),!1!==e&&o.remove()}),e.appendChild(n),e}function registerDialog(e){var t=env.dialogPolyfill,o=void 0===t?{}:t,n=o.registerDialog;return n?n(e):e}var Dialog=function(){function e(t,o){_classCallCheck(this,e);var n=this;t=parseOptions(t);var a=null!==t.title&&!1!==t.title&&"undefined"!=typeof t.title,l=t.content,i="message"in t,r=(t.actions||[]).map(parseAction),s=t,d=s.closeButton,c=void 0===d?"":d,u=s.onClose,p=t,g=p.preventCancel,m=p.onCancel,_=createElement("dialog",CONTAINER);if(registerDialog(_),g?preventEvent(_,"cancel"):addListener(_,"cancel",function(){m&&m(),n.remove()}),this.container=_,c){var b=createElement(_,"button",{className:CLOSE_BTN,innerHTML:"<span>".concat(c+"","</span>")});addListener(b,"click",function(){u&&u(),n.remove()})}if(a){var h=createElement(_,"div",HEAD);this.head=h;createElement(h,"div",{className:TITLE,textContent:t.title+""})}if(l||i){var f=createElement(_,"div",BODY);if(this.body=f,l)appendElement(f,t.content);else if(i)var y=createElement(f,"div",MESSAGE),v=createElement(y,"span",{className:MESSAGE_BODY,textContent:t.message+""})}if(r.length){var D=createElement(_,"div",FOOT);this.foot=D;var k=createElement(D,"div",ACTIONS);forEach$1.call(r,function(e){return renderAction(k,e,n)})}document$1.body.appendChild(this.container),!1!==o&&this.open()}return _createClass(e,[{key:"open",value:function(){this.container.showModal()}},{key:"remove",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"close",value:function(){this.container.close()}}]),e}();function returnPromise(e){var t=env.Promise;return function(o){var n,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:noop,l=new t(function(t){n=e(o,function(e){return t(e),a.call(this,e)})});return l.dialog=n,l}}var identify=function(e){return e};function setDefault(e,t){return 2===arguments.length&&(e=_defineProperty({},e,t)),assign$1(defaultSettings,e)}function addClassByClassList(e,t){return e.classList.add(t),e}function addClassByClassName(e,t){return e.className+=" ".concat(t),e}var addClass=SUPPORTS_CLASS_LIST?addClassByClassList:addClassByClassName;function alert(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:noop;if(e=parseOptions(e),!e.actions){var o=createConfirmAction(t);e.actions=[o]}e.onClose=t;var n=new Dialog(e);return addClass(n.container,DIALOG_TYPE_ALERT),n}function confirm(e){function t(){return n.call(this,!0)}function o(){return n.call(this,!1)}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:noop;if(e=parseOptions(e),!e.actions){var a=createConfirmAction(t),l=createCancelAction(o);e.actions=defaultSettings.reverseActions?[l,a]:[a,l]}e.onClose=o;var i=new Dialog(e);return addClass(i.container,DIALOG_TYPE_CONFIRM),i}function prompt(e){function t(){return n.call(this,l.value)}function o(){return n.call(this)}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:noop;e=parseOptions(e,{title:null,closeButton:!1}),e.content||"message"in e||(e.content=[]);var a=e,l=a.input;if(l||(e.rows?l=createElement("textarea",{className:INPUT,rows:e.rows,placeholder:e.placeholder||defaultSettings.promptPlaceholder}):l=createElement("input",{className:INPUT,placeholder:e.placeholder||defaultSettings.promptPlaceholder})),!e.actions){var i=createConfirmAction(t),r=createCancelAction(o);e.actions=defaultSettings.reverseActions?[r,i]:[i,r]}e.onClose=o;var s=new Dialog(e,!1);return addClass(s.container,DIALOG_TYPE_PROMPT),appendElement(s.body,l),s.open(),s}function exportModule(){function e(e){return new Dialog(e)}var t=env.Promise?returnPromise:identify;return assign$1(e,{defaultSettings:defaultSettings,setDefault:setDefault,dialog:e,Dialog:Dialog,alert:t(alert),confirm:t(confirm),prompt:t(prompt),action:assign$1(createAction,{confirm:createConfirmAction,cancel:createCancelAction}),btn:{confirm:createConfirmAction(),cancel:createCancelAction()}}),e}assign$1(env,{Promise:es6Promise,dialogPolyfill:dialogPolyfill});var fullVersion=exportModule();export default fullVersion;
//# sourceMappingURL=dialog.esm.min.js.map
