{"version":3,"file":"dialog.js","sources":["../../src/core/env.js","../../src/utils/global-this.js","../../src/utils/for-each.js","../../src/utils/has-own.js","../../src/utils/for-in.js","../../src/utils/assign.js","../../src/utils/document.js","../../src/core/classnames.js","../../src/utils/to-string.js","../../src/utils/get-type.js","../../src/utils/is-array.js","../../src/dom/supports.js","../../src/dom/parse-classnames.js","../../src/dom/create-element.js","../../src/utils/is-length.js","../../src/utils/is-array-like.js","../../src/utils/is-node.js","../../src/dom/append-elements.js","../../src/utils/return-false.js","../../src/utils/return-true.js","../../src/dom/add-listener.js","../../src/dom/prevent-event.js","../../src/core/defaults.js","../../src/core/parse-options.js","../../src/utils/noop.js","../../src/core/create-action.js","../../src/core/parse-action.js","../../src/core/render-action.js","../../src/core/dialog.js","../../src/core/shortcut-wrapper.js","../../src/dom/add-class.js","../../src/core/shortcuts.js","../../src/core/export-module.js","../../src/pure-version.js"],"sourcesContent":["const env = {}\n\nfunction setEnvironment({Promise, dialogPolyfill}) {\n  if (Promise) {\n    env.Promise = Promise\n  }\n\n  if (dialogPolyfill) {\n    env.dialogPolyfill = dialogPolyfill\n  }\n}\n\nexport {setEnvironment}\nexport default env\n","// eslint-disable-next-line no-new-func, unicorn/new-for-builtins\nconst globalThis = Function('return this')()\n\nexport default globalThis\n","const {forEach} = Array.prototype\n\nexport default forEach ||\n  function forEach(iteratee) {\n    let i = 0\n    const {length} = this\n    for (; i < length; i += 1) {\n      iteratee.call(this, this[i], i, this)\n    }\n  }\n","const {hasOwnProperty} = Object.prototype\n\nexport default hasOwnProperty\n","import hasOwn from './has-own'\n\nfunction forIn(iteratee) {\n  let key\n  for (key in this) {\n    if (hasOwn.call(this, key)) {\n      iteratee.call(this, this[key], key, this)\n    }\n  }\n}\n\nexport default forIn\n","import forEach from './for-each'\nimport forIn from './for-in'\n\nconst {assign} = Object\n\nexport default assign ||\n  function assign(target, ...sources) {\n    forEach.call(sources, function(source) {\n      forIn.call(source, function(value, key) {\n        target[key] = value\n      })\n    })\n\n    return target\n  }\n","import globalThis from './global-this'\nimport {name as pkgName} from '../../package.json'\n\nconst {document} = globalThis\n\nif (!document) {\n  throw new Error(`${pkgName} requires a window with a document.`)\n}\n\nexport default document\n","const NS = 'fu'\nconst BLOCK = `${NS}-dialog`\n\nexport const CONTAINER = BLOCK\nexport const HEAD = `${BLOCK}__head`\nexport const TITLE = `${BLOCK}__title`\nexport const BODY = `${BLOCK}__body`\nexport const MESSAGE = `${BLOCK}__message`\nexport const MESSAGE_BODY = `${BLOCK}__message-body`\nexport const INPUT = `${BLOCK}__input`\nexport const FOOT = `${BLOCK}__foot`\nexport const ACTIONS = `${BLOCK}__actions`\nexport const CLOSE_BTN = `${BLOCK}__close`\nexport const ACTION = `${BLOCK}__action`\nexport const ACTION_TYPE_CONFIRM = `${ACTION}--confirm`\nexport const ACTION_TYPE_CANCEL = `${ACTION}--cancel`\nexport const DIALOG_TYPE_ALERT = `${BLOCK}--alert`\nexport const DIALOG_TYPE_CONFIRM = `${BLOCK}--confirm`\nexport const DIALOG_TYPE_PROMPT = `${BLOCK}--prompt`\n","const {toString} = Object.prototype\n\nexport default toString\n","import toString from './to-string'\n\nfunction getType(x) {\n  return toString.call(x).slice(8, -1)\n}\n\nexport default getType\n","import getType from './get-type'\n\nconst {isArray} = Array\n\nexport default isArray ||\n  function isArray(x) {\n    return getType(x) === 'Array'\n  }\n","import document from '../utils/document'\n\nconst div = document.createElement('div')\n\nexport const SUPPORTS_CLASS_LIST = 'classList' in div\nexport const SUPPORTS_TEXT_CONTENT = 'textContent' in div\nexport const SUPPORTS_EVENT_LISTENER = 'addEventListener' in div\n","import isArray from '../utils/is-array'\n\nfunction parseClassNames(className = []) {\n  let classList = ''\n\n  if (isArray(className)) {\n    classList = className\n  } else {\n    classList = String(className || '').split(' ')\n  }\n\n  return classList\n}\n\nexport default parseClassNames\n","import isArray from '../utils/is-array'\nimport document from '../utils/document'\nimport assign from '../utils/assign'\nimport {SUPPORTS_TEXT_CONTENT} from './supports'\nimport parseClassNames from './parse-classnames'\n\nfunction parseDomProps(props = {}) {\n  if (isArray(props) || typeof props === 'string') {\n    props = {\n      className: props,\n    }\n  }\n\n  const classList = parseClassNames(props.className)\n\n  if (classList.length !== 0) {\n    props.className = classList.join(' ')\n  } else {\n    delete props.className\n  }\n\n  if (!SUPPORTS_TEXT_CONTENT && 'textContent' in props) {\n    props.innerText = props.textContent\n    delete props.textContent\n  }\n\n  return props\n}\n\nconst defaultDomProps = {\n  button: {\n    type: 'button',\n  },\n  input: {\n    type: 'text',\n  },\n}\n\nfunction setDefaultProps(props, tagName) {\n  const defaultProps = defaultDomProps[tagName]\n\n  if (defaultProps) {\n    props = assign({}, defaultProps, props)\n  }\n\n  return props\n}\n\nfunction createElement(parentNode, tagName, props = {}) {\n  if (typeof parentNode === 'string') {\n    props = tagName\n    tagName = parentNode\n    parentNode = null\n  }\n\n  const el = document.createElement(tagName)\n  props = parseDomProps(props)\n  props = setDefaultProps(props, tagName)\n\n  assign(el, props)\n\n  if (parentNode) {\n    parentNode.appendChild(el)\n  }\n\n  return el\n}\n\nexport default createElement\n","const MAX_SAFE_INTEGER = 9007199254740991\n\nfunction isLength(x) {\n  return typeof x === 'number' && x > -1 && x % 1 === 0 && x <= MAX_SAFE_INTEGER\n}\n\nexport default isLength\n","import isLength from './is-length'\n\nfunction isArrayLike(x) {\n  return x && typeof x !== 'function' && isLength(x.length)\n}\n\nexport default isArrayLike\n","function isNode(x) {\n  return x && typeof x.nodeType === 'number'\n}\n\nexport default isNode\n","import isArrayLike from '../utils/is-array-like'\nimport forEach from '../utils/for-each'\nimport isNode from '../utils/is-node'\n\nfunction appendElement(parent, children) {\n  if (typeof children === 'string') {\n    parent.innerHTML = children\n    return parent\n  }\n\n  if (isNode(children)) {\n    parent.appendChild(children)\n    return parent\n  }\n\n  if (isArrayLike(children)) {\n    forEach.call(children, function(child) {\n      appendElement(parent, child)\n    })\n\n    return parent\n  }\n\n  return parent\n}\n\nexport default appendElement\n","export default () => false\n","export default () => true\n","// import {\n//   SUPPORTS_EVENT_LISTENER\n// } from './supports'\n\nimport returnFalse from '../utils/return-false'\nimport returnTrue from '../utils/return-true'\n\nfunction isListener(x) {\n  return typeof x === 'function' || typeof x === 'boolean'\n}\n\nfunction parseListener(listener) {\n  if (listener === true) {\n    listener = returnTrue\n  }\n\n  if (listener === false) {\n    listener = returnFalse\n  }\n\n  return listener\n}\n\nfunction addListener(el, type, listener, options = false) {\n  if (isListener(type)) {\n    options = listener || false\n    listener = type\n    type = 'click'\n  }\n\n  listener = parseListener(listener)\n\n  el.addEventListener(type, listener, options)\n  return el\n}\n\nexport default addListener\n","import addListener from './add-listener'\n\nfunction preventDefault(e) {\n  e.preventDefault()\n  return false\n}\n\nfunction preventEvent(el, type) {\n  return addListener(el, type, preventDefault)\n}\n\nexport default preventEvent\n","import assign from '../utils/assign'\n\nconst defaults = {\n  title: '提示',\n  confirmActionText: '确定',\n  cancelActionText: '取消',\n  promptPlaceholder: '请输入',\n  reverseActions: false,\n  closeButton: '关闭',\n  preventCancel: true,\n}\n\nfunction setDefaults(options, value) {\n  if (arguments.length === 2) {\n    options = {\n      [options]: value,\n    }\n  }\n\n  return assign(defaults, options)\n}\n\nexport {setDefaults}\n\nexport default defaults\n","import defaults from './defaults'\nimport getType from '../utils/get-type'\nimport assign from '../utils/assign'\n\nfunction parseOptions(options, defaultOptions = defaults) {\n  const type = getType(options)\n\n  if (type !== 'Object') {\n    options = {\n      message: options,\n    }\n  }\n\n  options = assign(defaultOptions, options)\n\n  return options\n}\n\nexport default parseOptions\n","export default () => {}\n","import assign from '../utils/assign'\nimport noop from '../utils/noop'\nimport returnFalse from '../utils/return-false'\nimport returnTrue from '../utils/return-true'\nimport parseClassNames from '../dom/parse-classnames'\nimport createElement from '../dom/create-element'\nimport * as classNames from './classnames'\nimport defaults from './defaults'\n\nfunction createAction(actionText, props, action = noop) {\n  if (typeof props === 'function') {\n    action = props\n    props = {}\n  }\n\n  if (action === false) {\n    action = returnFalse\n  }\n\n  if (action === true) {\n    action = returnTrue\n  }\n\n  props = assign(\n    {\n      textContent: String(actionText),\n    },\n    props\n  )\n\n  const classList = parseClassNames(props.className)\n  classList.unshift(classNames.ACTION)\n  props.className = classList\n\n  const el = createElement('button', props)\n\n  return {\n    el,\n    action,\n  }\n}\n\nfunction createTypedAction(type) {\n  let typedActionClassName = ''\n\n  if (type === 'confirm') {\n    typedActionClassName = classNames.ACTION_TYPE_CONFIRM\n  } else if (type === 'cancel') {\n    typedActionClassName = classNames.ACTION_TYPE_CANCEL\n  }\n\n  return function(actionText, action) {\n    const DEFAULT_TEXT = defaults[`${type}ActionText`]\n\n    if (typeof actionText === 'function') {\n      action = actionText\n      actionText = DEFAULT_TEXT\n    }\n\n    actionText = actionText || DEFAULT_TEXT\n\n    return createAction(\n      actionText,\n      {\n        className: typedActionClassName,\n      },\n      action\n    )\n  }\n}\n\nexport const createConfirmAction = createTypedAction('confirm')\nexport const createCancelAction = createTypedAction('cancel')\n\nexport default createAction\n","import isArrayLike from '../utils/is-array-like'\nimport isNode from '../utils/is-node'\nimport createAction, {\n  createConfirmAction,\n  createCancelAction,\n} from './create-action'\n\nfunction parseAction(action) {\n  if (typeof action === 'string') {\n    action = {\n      text: action,\n    }\n  }\n\n  if (isArrayLike(action)) {\n    return parseAction(action[0])\n  }\n\n  if (isNode(action)) {\n    action = {\n      el: action,\n    }\n  }\n\n  if (typeof action.el === 'function') {\n    action.el = action.el()\n  }\n\n  if (action === createConfirmAction || action === createCancelAction) {\n    action = action()\n  }\n\n  if (typeof action === 'function' || typeof action === 'boolean') {\n    action = createConfirmAction(action)\n  }\n\n  if (!action.el) {\n    action = createAction(action.text, action.action)\n  }\n\n  return action\n}\n\nexport default parseAction\n","import addListener from '../dom/add-listener'\n\nfunction renderAction(container, btn, dialog) {\n  const {el, action} = btn\n\n  addListener(el, 'click', function() {\n    let result\n\n    if (action) {\n      result = action.call(dialog)\n    }\n\n    if (result !== false) {\n      dialog.remove()\n    }\n  })\n\n  container.appendChild(el)\n\n  return container\n}\n\nexport default renderAction\n","import document from '../utils/document'\nimport * as classNames from './classnames'\n\nimport createElement from '../dom/create-element'\nimport appendElement from '../dom/append-elements'\nimport addListener from '../dom/add-listener'\nimport preventEvent from '../dom/prevent-event'\nimport parseDialogOptions from './parse-options'\nimport parseAction from './parse-action'\nimport renderAction from './render-action'\nimport env from './env'\nimport forEach from '../utils/for-each'\n\nfunction registerDialog(dialog) {\n  const {dialogPolyfill = {}} = env\n  const {registerDialog} = dialogPolyfill\n\n  if (registerDialog) {\n    return registerDialog(dialog)\n  }\n\n  return dialog\n}\n\nclass Dialog {\n  constructor(options, open) {\n    const dialog = this\n\n    options = parseDialogOptions(options)\n\n    const hasTitle = !(\n      options.title === null ||\n      options.title === false ||\n      typeof options.title === 'undefined'\n    )\n    const hasContent = options.content\n    const hasMessage = 'message' in options\n    const actions = (options.actions || []).map(parseAction)\n    const {closeButton: closeButtonText = '', onClose} = options\n    const {preventCancel, onCancel} = options\n\n    const container = createElement('dialog', classNames.CONTAINER)\n    registerDialog(container)\n\n    if (preventCancel) {\n      preventEvent(container, 'cancel')\n    } else {\n      addListener(container, 'cancel', function() {\n        if (onCancel) {\n          onCancel()\n        }\n        dialog.remove()\n      })\n    }\n\n    this.container = container\n\n    if (closeButtonText) {\n      const closeButton = createElement(container, 'button', {\n        className: classNames.CLOSE_BTN,\n        innerHTML: `<span>${String(closeButtonText)}</span>`,\n      })\n\n      addListener(closeButton, 'click', function() {\n        if (onClose) {\n          onClose()\n        }\n        dialog.remove()\n      })\n    }\n\n    // head\n    if (hasTitle) {\n      const head = createElement(container, 'div', classNames.HEAD)\n      this.head = head\n\n      const title = createElement(head, 'div', {\n        className: classNames.TITLE,\n        textContent: String(options.title),\n      })\n    }\n\n    // body\n    if (hasContent || hasMessage) {\n      const body = createElement(container, 'div', classNames.BODY)\n      this.body = body\n\n      if (hasContent) {\n        appendElement(body, options.content)\n      } else if (hasMessage) {\n        const message = createElement(body, 'div', classNames.MESSAGE)\n        const messageBody = createElement(message, 'span', {\n          className: classNames.MESSAGE_BODY,\n          textContent: String(options.message),\n        })\n      }\n    }\n\n    // foot\n    if (actions.length !== 0) {\n      const foot = createElement(container, 'div', classNames.FOOT)\n      this.foot = foot\n\n      const actionsContainer = createElement(foot, 'div', classNames.ACTIONS)\n\n      forEach.call(actions, action =>\n        renderAction(actionsContainer, action, dialog)\n      )\n    }\n\n    document.body.appendChild(this.container)\n\n    if (open !== false) {\n      this.open()\n    }\n  }\n\n  open() {\n    this.container.showModal()\n  }\n\n  remove() {\n    this.container.parentNode.removeChild(this.container)\n  }\n\n  close() {\n    this.container.close()\n  }\n}\n\nexport default Dialog\n","import noop from '../utils/noop'\nimport env from './env'\n\nfunction shortcutWrapper(method) {\n  return function shortcutWrapper(options, onAction = noop) {\n    const {Promise} = env\n    let dialog\n\n    if (Promise) {\n      const promise = new Promise(resolve => {\n        dialog = method(options, function(result) {\n          resolve(result)\n          return onAction.call(this, result)\n        })\n      })\n      promise.dialog = dialog\n\n      return promise\n    }\n\n    return method(options, onAction)\n  }\n}\n\nexport default shortcutWrapper\n","import {SUPPORTS_CLASS_LIST} from './supports'\n\nfunction addClassByClassList(el, className) {\n  el.classList.add(className)\n  return el\n}\n\nfunction addClassByClassName(el, className) {\n  el.className += ` ${className}`\n  return el\n}\n\nexport default (SUPPORTS_CLASS_LIST ? addClassByClassList : addClassByClassName)\n","import noop from '../utils/noop'\nimport * as classNames from './classnames'\nimport createElement from '../dom/create-element'\nimport addClass from '../dom/add-class'\nimport appendElement from '../dom/append-elements'\nimport defaults from './defaults'\nimport Dialog from './dialog'\nimport {createConfirmAction, createCancelAction} from './create-action'\nimport parseDialogOptions from './parse-options'\n\nfunction alert(options, onAction = noop) {\n  options = parseDialogOptions(options)\n\n  if (!options.actions) {\n    const confirmBtn = createConfirmAction(onAction)\n\n    options.actions = [confirmBtn]\n  }\n\n  options.onClose = onAction\n\n  const dialog = new Dialog(options)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_ALERT)\n\n  return dialog\n}\n\nfunction confirm(options, onAction = noop) {\n  options = parseDialogOptions(options)\n\n  function onConfirm() {\n    return onAction.call(this, true)\n  }\n\n  function onCancel() {\n    return onAction.call(this, false)\n  }\n\n  if (!options.actions) {\n    const confirmBtn = createConfirmAction(onConfirm)\n    const cancelBtn = createCancelAction(onCancel)\n\n    if (defaults.reverseActions) {\n      options.actions = [cancelBtn, confirmBtn]\n    } else {\n      options.actions = [confirmBtn, cancelBtn]\n    }\n  }\n\n  options.onClose = onCancel\n\n  const dialog = new Dialog(options)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_CONFIRM)\n\n  return dialog\n}\n\nfunction prompt(options, onAction = noop) {\n  options = parseDialogOptions(options, {\n    title: null,\n    closeButton: false,\n  })\n\n  if (!options.content && !('message' in options)) {\n    options.content = []\n  }\n\n  let {input} = options\n\n  if (!input) {\n    if (options.rows) {\n      input = createElement('textarea', {\n        className: classNames.INPUT,\n        rows: options.rows,\n        placeholder: options.placeholder || defaults.promptPlaceholder,\n      })\n    } else {\n      input = createElement('input', {\n        className: classNames.INPUT,\n        placeholder: options.placeholder || defaults.promptPlaceholder,\n      })\n    }\n  }\n\n  function onConfirm() {\n    return onAction.call(this, input.value)\n  }\n\n  function onCancel() {\n    return onAction.call(this)\n  }\n\n  if (!options.actions) {\n    const confirmBtn = createConfirmAction(onConfirm)\n\n    const cancelBtn = createCancelAction(onCancel)\n\n    if (defaults.reverseActions) {\n      options.actions = [cancelBtn, confirmBtn]\n    } else {\n      options.actions = [confirmBtn, cancelBtn]\n    }\n  }\n\n  options.onClose = onCancel\n\n  const dialog = new Dialog(options, false)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_PROMPT)\n  appendElement(dialog.body, input)\n  dialog.open()\n\n  return dialog\n}\n\nexport {alert, confirm, prompt}\n","import Dialog from './dialog'\nimport shortCutWrapper from './shortcut-wrapper'\nimport assign from '../utils/assign'\nimport defaults, {setDefaults} from './defaults'\nimport {alert, confirm, prompt} from './shortcuts'\nimport createAction, {\n  createConfirmAction,\n  createCancelAction,\n} from './create-action'\nimport env, {setEnvironment} from './env'\n\nfunction exportModule() {\n  function dialog(options) {\n    return new Dialog(options)\n  }\n\n  assign(dialog, {\n    env,\n    setEnvironment,\n    defaults,\n    setDefaults,\n    dialog,\n    Dialog,\n    alert: shortCutWrapper(alert),\n    confirm: shortCutWrapper(confirm),\n    prompt: shortCutWrapper(prompt),\n    action: assign(createAction, {\n      confirm: createConfirmAction,\n      cancel: createCancelAction,\n    }),\n    btn: {\n      confirm: createConfirmAction(),\n      cancel: createCancelAction(),\n    },\n  })\n\n  return dialog\n}\n\nexport default exportModule\n","import env from './core/env'\nimport globalThis from './utils/global-this'\nimport assign from './utils/assign'\nimport exportModule from './core/export-module'\n\nconst {Promise, dialogPolyfill} = globalThis\n\nassign(env, {\n  Promise,\n  dialogPolyfill,\n})\n\nexport default exportModule()\n"],"names":["env","setEnvironment","Promise","dialogPolyfill","globalThis","Function","forEach","Array","prototype","iteratee","i","length","call","hasOwnProperty","Object","forIn","key","hasOwn","assign","target","sources","source","value","document","Error","pkgName","NS","BLOCK","CONTAINER","HEAD","TITLE","BODY","MESSAGE","MESSAGE_BODY","INPUT","FOOT","ACTIONS","CLOSE_BTN","ACTION","ACTION_TYPE_CONFIRM","ACTION_TYPE_CANCEL","DIALOG_TYPE_ALERT","DIALOG_TYPE_CONFIRM","DIALOG_TYPE_PROMPT","toString","getType","x","slice","isArray","div","createElement","SUPPORTS_CLASS_LIST","SUPPORTS_TEXT_CONTENT","parseClassNames","className","classList","String","split","parseDomProps","props","join","innerText","textContent","defaultDomProps","button","type","input","setDefaultProps","tagName","defaultProps","parentNode","el","appendChild","MAX_SAFE_INTEGER","isLength","isArrayLike","isNode","nodeType","appendElement","parent","children","innerHTML","child","isListener","parseListener","listener","returnTrue","returnFalse","addListener","options","addEventListener","preventDefault","e","preventEvent","defaults","title","confirmActionText","cancelActionText","promptPlaceholder","reverseActions","closeButton","preventCancel","setDefaults","arguments","parseOptions","defaultOptions","message","createAction","actionText","action","noop","unshift","classNames","createTypedAction","typedActionClassName","DEFAULT_TEXT","createConfirmAction","createCancelAction","parseAction","text","renderAction","container","btn","dialog","result","remove","registerDialog","Dialog","open","parseDialogOptions","hasTitle","hasContent","content","hasMessage","actions","map","closeButtonText","onClose","onCancel","head","body","messageBody","foot","actionsContainer","showModal","removeChild","close","shortcutWrapper","method","onAction","promise","resolve","addClassByClassList","add","addClassByClassName","alert","confirmBtn","addClass","confirm","onConfirm","cancelBtn","prompt","rows","placeholder","exportModule","shortCutWrapper","cancel"],"mappings":"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"}