{"version":3,"file":"dialog.umd.min.js","sources":["../../src/core/env.js","../../src/utils/global-this.js","../../src/utils/for-each.js","../../src/utils/has-own.js","../../src/utils/for-in.js","../../src/utils/assign.js","../../src/utils/document.js","../../src/core/classnames.js","../../src/utils/to-string.js","../../src/utils/get-type.js","../../src/utils/is-array.js","../../src/dom/supports.js","../../src/dom/parse-classnames.js","../../src/dom/create-element.js","../../src/utils/is-length.js","../../src/utils/is-array-like.js","../../src/utils/is-node.js","../../src/dom/append-elements.js","../../src/utils/return-false.js","../../src/utils/return-true.js","../../src/dom/add-listener.js","../../src/dom/prevent-event.js","../../src/core/default-settings.js","../../src/core/parse-options.js","../../src/utils/noop.js","../../src/core/create-action.js","../../src/core/parse-action.js","../../src/core/render-action.js","../../src/core/dialog.js","../../src/core/return-promise.js","../../src/utils/identify.js","../../src/core/set-default.js","../../src/dom/add-class.js","../../src/core/shortcuts.js","../../src/core/export-module.js","../../src/pure-version.js"],"sourcesContent":["const env = {}\n\nexport default env\n","// eslint-disable-next-line no-new-func\nconst globalThis = Function('return this')()\n\nexport default globalThis\n","const {forEach} = Array.prototype\n\nexport default forEach ||\n  function forEach(iteratee) {\n    let i = 0\n    const {length} = this\n    for (; i < length; i++) {\n      iteratee.call(this, this[i], i, this)\n    }\n  }\n","const {hasOwnProperty} = Object.prototype\n\nexport default hasOwnProperty\n","import hasOwn from './has-own'\n\nfunction forIn(iteratee) {\n  let key\n  for (key in this) {\n    if (hasOwn.call(this, key)) {\n      iteratee.call(this, this[key], key, this)\n    }\n  }\n}\n\nexport default forIn\n","import forEach from './for-each'\nimport forIn from './for-in'\n\nconst {assign} = Object\n\nexport default assign ||\n  function assign(target, ...sources) {\n    forEach.call(sources, function(source) {\n      forIn.call(source, function(value, key) {\n        target[key] = value\n      })\n    })\n\n    return target\n  }\n","import globalThis from './global-this'\nimport {name as pkgName} from '../../package.json'\n\nconst {document} = globalThis\n\nif (!document) {\n  throw new Error(`${pkgName} requires a window with a document.`)\n}\n\nexport default document\n","const NS = 'fu-dialog'\n\nexport const CONTAINER = NS\nexport const HEAD = `${NS}__head`\nexport const TITLE = `${NS}__title`\nexport const BODY = `${NS}__body`\nexport const MESSAGE = `${NS}__message`\nexport const MESSAGE_BODY = `${NS}__message-body`\nexport const INPUT = `${NS}__input`\nexport const FOOT = `${NS}__foot`\nexport const ACTIONS = `${NS}__actions`\nexport const CLOSE_BTN = `${NS}__close`\nexport const ACTION = `${NS}__action`\nexport const ACTION_TYPE_CONFIRM = `${ACTION}--confirm`\nexport const ACTION_TYPE_CANCEL = `${ACTION}--cancel`\nexport const DIALOG_TYPE_ALERT = `${NS}--alert`\nexport const DIALOG_TYPE_CONFIRM = `${NS}--confirm`\nexport const DIALOG_TYPE_PROMPT = `${NS}--prompt`\n","const {toString} = Object.prototype\n\nexport default toString\n","import toString from './to-string'\n\nfunction getType(x) {\n  return toString.call(x).slice(8, -1)\n}\n\nexport default getType\n","import getType from './get-type'\n\nconst {isArray} = Array\n\nexport default isArray ||\n  function isArray(x) {\n    return getType(x) === 'Array'\n  }\n","import document from '../utils/document'\n\nconst div = document.createElement('div')\n\nexport const SUPPORTS_CLASS_LIST = 'classList' in div\nexport const SUPPORTS_TEXT_CONTENT = 'textContent' in div\nexport const SUPPORTS_EVENT_LISTENER = 'addEventListener' in div\n","import isArray from '../utils/is-array'\n\nfunction parseClassNames(className = []) {\n  let classList = ''\n\n  if (isArray(className)) {\n    classList = className\n  } else {\n    classList = String(className || '').split(' ')\n  }\n\n  return classList\n}\n\nexport default parseClassNames\n","import isArray from '../utils/is-array'\nimport document from '../utils/document'\nimport assign from '../utils/assign'\nimport {SUPPORTS_TEXT_CONTENT} from './supports'\nimport parseClassNames from './parse-classnames'\n\nfunction parseDomProps(props = {}) {\n  if (isArray(props) || typeof props === 'string') {\n    props = {\n      className: props,\n    }\n  }\n\n  const classList = parseClassNames(props.className)\n\n  if (classList.length) {\n    props.className = classList.join(' ')\n  } else {\n    delete props.className\n  }\n\n  if (!SUPPORTS_TEXT_CONTENT && 'textContent' in props) {\n    props.innerText = props.textContent\n    delete props.textContent\n  }\n\n  return props\n}\n\nconst defaultDomProps = {\n  button: {\n    type: 'button',\n  },\n  input: {\n    type: 'text',\n  },\n}\n\nfunction setDefaultProps(props, tagName) {\n  const defaultProps = defaultDomProps[tagName]\n\n  if (defaultProps) {\n    props = assign({}, defaultProps, props)\n  }\n\n  return props\n}\n\nfunction createElement(parentNode, tagName, props = {}) {\n  if (typeof parentNode === 'string') {\n    props = tagName\n    tagName = parentNode\n    parentNode = null\n  }\n\n  const el = document.createElement(tagName)\n  props = parseDomProps(props)\n  props = setDefaultProps(props, tagName)\n\n  assign(el, props)\n\n  if (parentNode) {\n    parentNode.appendChild(el)\n  }\n\n  return el\n}\n\nexport default createElement\n","const MAX_SAFE_INTEGER = 9007199254740991\n\nfunction isLength(x) {\n  return typeof x === 'number' && x > -1 && x % 1 === 0 && x <= MAX_SAFE_INTEGER\n}\n\nexport default isLength\n","import isLength from './is-length'\n\nfunction isArrayLike(x) {\n  return x && typeof x !== 'function' && isLength(x.length)\n}\n\nexport default isArrayLike\n","function isNode(x) {\n  return x && typeof x.nodeType === 'number'\n}\n\nexport default isNode\n","import isArrayLike from '../utils/is-array-like'\nimport forEach from '../utils/for-each'\nimport isNode from '../utils/is-node'\n\nfunction appendElement(parent, children) {\n  if (typeof children === 'string') {\n    parent.innerHTML = children\n    return parent\n  }\n\n  if (isNode(children)) {\n    parent.appendChild(children)\n    return parent\n  }\n\n  if (isArrayLike(children)) {\n    forEach.call(children, function(child) {\n      appendElement(parent, child)\n    })\n\n    return parent\n  }\n\n  return parent\n}\n\nexport default appendElement\n","export default () => false\n","export default () => true\n","// import {\n//   SUPPORTS_EVENT_LISTENER\n// } from './supports'\n\nimport returnFalse from '../utils/return-false'\nimport returnTrue from '../utils/return-true'\n\nfunction isListener(x) {\n  return typeof x === 'function' || typeof x === 'boolean'\n}\n\nfunction parseListener(listener) {\n  if (listener === true) {\n    listener = returnTrue\n  }\n\n  if (listener === false) {\n    listener = returnFalse\n  }\n\n  return listener\n}\n\nfunction addListener(el, type, listener, options = false) {\n  if (isListener(type)) {\n    options = listener || false\n    listener = type\n    type = 'click'\n  }\n\n  listener = parseListener(listener)\n\n  el.addEventListener(type, listener, options)\n  return el\n}\n\nexport default addListener\n","import addListener from './add-listener'\n\nfunction preventDefault(e) {\n  e.preventDefault()\n  return false\n}\n\nfunction preventEvent(el, type) {\n  return addListener(el, type, preventDefault)\n}\n\nexport default preventEvent\n","const defaultSettings = {\n  title: '提示',\n  confirmActionText: '确定',\n  cancelActionText: '取消',\n  promptPlaceholder: '请输入',\n  reverseActions: false,\n  closeButton: '关闭',\n  preventCancel: true,\n}\n\nexport default defaultSettings\n","import defaultSettings from './default-settings'\nimport getType from '../utils/get-type'\nimport assign from '../utils/assign'\n\nfunction parseOptions(options, defaultOptions = defaultSettings) {\n  const type = getType(options)\n\n  if (type !== 'Object') {\n    options = {\n      message: options,\n    }\n  }\n\n  options = assign(defaultOptions, options)\n\n  return options\n}\n\nexport default parseOptions\n","export default () => {}\n","import assign from '../utils/assign'\nimport noop from '../utils/noop'\nimport returnFalse from '../utils/return-false'\nimport returnTrue from '../utils/return-true'\nimport parseClassNames from '../dom/parse-classnames'\nimport createElement from '../dom/create-element'\nimport * as classNames from './classnames.js'\nimport defaultSettings from './default-settings'\n\nfunction createAction(actionText, props, action = noop) {\n  if (typeof props === 'function') {\n    action = props\n    props = {}\n  }\n\n  if (action === false) {\n    action = returnFalse\n  }\n\n  if (action === true) {\n    action = returnTrue\n  }\n\n  props = assign(\n    {\n      textContent: String(actionText),\n    },\n    props\n  )\n\n  const classList = parseClassNames(props.className)\n  classList.unshift(classNames.ACTION)\n  props.className = classList\n\n  const el = createElement('button', props)\n\n  return {\n    el,\n    action,\n  }\n}\n\nfunction createTypedAction(type) {\n  let typedActionClassName = ''\n\n  if (type === 'confirm') {\n    typedActionClassName = classNames.ACTION_TYPE_CONFIRM\n  } else if (type === 'cancel') {\n    typedActionClassName = classNames.ACTION_TYPE_CANCEL\n  }\n\n  return function(actionText, action) {\n    const DEFAULT_TEXT = defaultSettings[`${type}ActionText`]\n\n    if (typeof actionText === 'function') {\n      action = actionText\n      actionText = DEFAULT_TEXT\n    }\n\n    actionText = actionText || DEFAULT_TEXT\n\n    return createAction(\n      actionText,\n      {\n        className: typedActionClassName,\n      },\n      action\n    )\n  }\n}\n\nexport const createConfirmAction = createTypedAction('confirm')\nexport const createCancelAction = createTypedAction('cancel')\n\nexport default createAction\n","import isArrayLike from '../utils/is-array-like'\nimport isNode from '../utils/is-node'\nimport createAction, {createConfirmAction} from './create-action'\n\nfunction parseAction(action) {\n  if (typeof action === 'string') {\n    action = {\n      text: action,\n    }\n  }\n\n  if (isArrayLike(action)) {\n    return parseAction(action[0])\n  }\n\n  if (isNode(action)) {\n    action = {\n      el: action,\n    }\n  }\n\n  if (typeof action.el === 'function') {\n    action.el = action.el()\n  }\n\n  if (typeof action === 'function' || typeof action === 'boolean') {\n    action = createConfirmAction(action)\n  }\n\n  if (!action.el) {\n    action = createAction(action.text, action.action)\n  }\n\n  return action\n}\n\nexport default parseAction\n","import addListener from '../dom/add-listener'\n\nfunction renderAction(container, btn, dialog) {\n  const {el, action} = btn\n\n  addListener(el, 'click', function() {\n    let result\n\n    if (action) {\n      result = action.call(dialog)\n    }\n\n    if (result !== false) {\n      dialog.remove()\n    }\n  })\n\n  container.appendChild(el)\n\n  return container\n}\n\nexport default renderAction\n","import document from '../utils/document'\nimport * as classNames from './classnames'\n\nimport createElement from '../dom/create-element'\nimport appendElement from '../dom/append-elements'\nimport addListener from '../dom/add-listener'\nimport preventEvent from '../dom/prevent-event'\nimport parseDialogOptions from './parse-options'\nimport parseAction from './parse-action'\nimport renderAction from './render-action'\nimport env from './env'\nimport forEach from '../utils/for-each'\n\nfunction registerDialog(dialog) {\n  const {dialogPolyfill = {}} = env\n  const {registerDialog} = dialogPolyfill\n\n  if (registerDialog) {\n    return registerDialog(dialog)\n  }\n\n  return dialog\n}\n\nclass Dialog {\n  constructor(options, open) {\n    const dialog = this\n\n    options = parseDialogOptions(options)\n\n    const hasTitle = !(\n      options.title === null ||\n      options.title === false ||\n      typeof options.title === 'undefined'\n    )\n    const hasContent = options.content\n    const hasMessage = 'message' in options\n    const actions = (options.actions || []).map(parseAction)\n    const {closeButton: closeButtonText = '', onClose} = options\n    const {preventCancel, onCancel} = options\n\n    const container = createElement('dialog', classNames.CONTAINER)\n    registerDialog(container)\n\n    if (preventCancel) {\n      preventEvent(container, 'cancel')\n    } else {\n      addListener(container, 'cancel', function() {\n        if (onCancel) {\n          onCancel()\n        }\n        dialog.remove()\n      })\n    }\n\n    this.container = container\n\n    if (closeButtonText) {\n      const closeButton = createElement(container, 'button', {\n        className: classNames.CLOSE_BTN,\n        innerHTML: `<span>${String(closeButtonText)}</span>`,\n      })\n\n      addListener(closeButton, 'click', function() {\n        if (onClose) {\n          onClose()\n        }\n        dialog.remove()\n      })\n    }\n\n    // head\n    if (hasTitle) {\n      const head = createElement(container, 'div', classNames.HEAD)\n      this.head = head\n\n      const title = createElement(head, 'div', {\n        className: classNames.TITLE,\n        textContent: String(options.title),\n      })\n    }\n\n    // body\n    if (hasContent || hasMessage) {\n      const body = createElement(container, 'div', classNames.BODY)\n      this.body = body\n\n      if (hasContent) {\n        appendElement(body, options.content)\n      } else if (hasMessage) {\n        const message = createElement(body, 'div', classNames.MESSAGE)\n        const messageBody = createElement(message, 'span', {\n          className: classNames.MESSAGE_BODY,\n          textContent: String(options.message),\n        })\n      }\n    }\n\n    // foot\n    if (actions.length) {\n      const foot = createElement(container, 'div', classNames.FOOT)\n      this.foot = foot\n\n      const actionsContainer = createElement(foot, 'div', classNames.ACTIONS)\n\n      forEach.call(actions, action =>\n        renderAction(actionsContainer, action, dialog)\n      )\n    }\n\n    document.body.appendChild(this.container)\n\n    if (open !== false) {\n      this.open()\n    }\n  }\n\n  open() {\n    this.container.showModal()\n  }\n\n  remove() {\n    this.container.parentNode.removeChild(this.container)\n  }\n\n  close() {\n    this.container.close()\n  }\n}\n\nexport default Dialog\n","import noop from '../utils/noop'\nimport env from './env'\n\nfunction returnPromise(method) {\n  const {Promise} = env\n\n  return function(options, onAction = noop) {\n    let dialog\n\n    const promise = new Promise(resolve => {\n      dialog = method(options, function(result) {\n        resolve(result)\n        return onAction.call(this, result)\n      })\n    })\n    promise.dialog = dialog\n\n    return promise\n  }\n}\n\nexport default returnPromise\n","export default x => x\n","import assign from '../utils/assign'\nimport defaultSettings from './default-settings'\n\nfunction setDefault(options, value) {\n  if (arguments.length === 2) {\n    options = {\n      [options]: value,\n    }\n  }\n\n  return assign(defaultSettings, options)\n}\n\nexport default setDefault\n","import {SUPPORTS_CLASS_LIST} from './supports'\n\nfunction addClassByClassList(el, className) {\n  el.classList.add(className)\n  return el\n}\n\nfunction addClassByClassName(el, className) {\n  el.className += ` ${className}`\n  return el\n}\n\nexport default (SUPPORTS_CLASS_LIST ? addClassByClassList : addClassByClassName)\n","import noop from '../utils/noop'\nimport * as classNames from './classnames'\nimport createElement from '../dom/create-element'\nimport addClass from '../dom/add-class'\nimport appendElement from '../dom/append-elements'\nimport defaultSettings from './default-settings'\nimport Dialog from './dialog'\nimport {createConfirmAction, createCancelAction} from './create-action'\nimport parseDialogOptions from './parse-options'\n\nexport function alert(options, onAction = noop) {\n  options = parseDialogOptions(options)\n\n  if (!options.actions) {\n    const confirmBtn = createConfirmAction(onAction)\n\n    options.actions = [confirmBtn]\n  }\n\n  options.onClose = onAction\n\n  const dialog = new Dialog(options)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_ALERT)\n\n  return dialog\n}\n\nexport function confirm(options, onAction = noop) {\n  options = parseDialogOptions(options)\n\n  function onConfirm() {\n    return onAction.call(this, true)\n  }\n\n  function onCancel() {\n    return onAction.call(this, false)\n  }\n\n  if (!options.actions) {\n    const confirmBtn = createConfirmAction(onConfirm)\n    const cancelBtn = createCancelAction(onCancel)\n\n    if (defaultSettings.reverseActions) {\n      options.actions = [cancelBtn, confirmBtn]\n    } else {\n      options.actions = [confirmBtn, cancelBtn]\n    }\n  }\n\n  options.onClose = onCancel\n\n  const dialog = new Dialog(options)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_CONFIRM)\n\n  return dialog\n}\n\nexport function prompt(options, onAction = noop) {\n  options = parseDialogOptions(options, {\n    title: null,\n    closeButton: false,\n  })\n\n  if (!options.content && !('message' in options)) {\n    options.content = []\n  }\n\n  let {input} = options\n\n  if (!input) {\n    if (options.rows) {\n      input = createElement('textarea', {\n        className: classNames.INPUT,\n        rows: options.rows,\n        placeholder: options.placeholder || defaultSettings.promptPlaceholder,\n      })\n    } else {\n      input = createElement('input', {\n        className: classNames.INPUT,\n        placeholder: options.placeholder || defaultSettings.promptPlaceholder,\n      })\n    }\n  }\n\n  function onConfirm() {\n    return onAction.call(this, input.value)\n  }\n\n  function onCancel() {\n    return onAction.call(this)\n  }\n\n  if (!options.actions) {\n    const confirmBtn = createConfirmAction(onConfirm)\n\n    const cancelBtn = createCancelAction(onCancel)\n\n    if (defaultSettings.reverseActions) {\n      options.actions = [cancelBtn, confirmBtn]\n    } else {\n      options.actions = [confirmBtn, cancelBtn]\n    }\n  }\n\n  options.onClose = onCancel\n\n  const dialog = new Dialog(options, false)\n\n  addClass(dialog.container, classNames.DIALOG_TYPE_PROMPT)\n  appendElement(dialog.body, input)\n  dialog.open()\n\n  return dialog\n}\n","import Dialog from './dialog'\nimport returnPromise from './return-promise'\nimport assign from '../utils/assign'\nimport identify from '../utils/identify'\nimport defaultSettings from './default-settings'\nimport setDefault from './set-default'\nimport {alert, confirm, prompt} from './shortcuts'\nimport createAction, {\n  createConfirmAction,\n  createCancelAction,\n} from './create-action'\nimport env from './env'\n\nfunction exportModule() {\n  const shortCutWrapper = env.Promise ? returnPromise : identify\n\n  function dialog(options) {\n    return new Dialog(options)\n  }\n\n  assign(dialog, {\n    defaultSettings,\n    setDefault,\n    dialog,\n    Dialog,\n    alert: shortCutWrapper(alert),\n    confirm: shortCutWrapper(confirm),\n    prompt: shortCutWrapper(prompt),\n    action: assign(createAction, {\n      confirm: createConfirmAction,\n      cancel: createCancelAction,\n    }),\n    btn: {\n      confirm: createConfirmAction(),\n      cancel: createCancelAction(),\n    },\n  })\n\n  return dialog\n}\n\nexport default exportModule\n","import env from './core/env'\nimport globalThis from './utils/global-this'\nimport assign from './utils/assign'\nimport exportModule from './core/export-module'\n\nconst {Promise, dialogPolyfill} = globalThis\n\nassign(env, {\n  Promise,\n  dialogPolyfill,\n})\n\nexport default exportModule()\n"],"names":["env","globalThis","Function","forEach","Array","prototype","iteratee","i","length","call","hasOwnProperty","Object","forIn","key","hasOwn","assign","target","sources","source","value","document","Error","pkgName","NS","CONTAINER","HEAD","TITLE","BODY","MESSAGE","MESSAGE_BODY","INPUT","FOOT","ACTIONS","CLOSE_BTN","ACTION","ACTION_TYPE_CONFIRM","ACTION_TYPE_CANCEL","DIALOG_TYPE_ALERT","DIALOG_TYPE_CONFIRM","DIALOG_TYPE_PROMPT","toString","getType","x","slice","isArray","div","createElement","SUPPORTS_CLASS_LIST","SUPPORTS_TEXT_CONTENT","parseClassNames","className","classList","String","split","parseDomProps","props","join","innerText","textContent","defaultDomProps","button","type","input","setDefaultProps","tagName","defaultProps","parentNode","el","appendChild","MAX_SAFE_INTEGER","isLength","isArrayLike","isNode","nodeType","appendElement","parent","children","innerHTML","child","isListener","parseListener","listener","returnTrue","returnFalse","addListener","options","addEventListener","preventDefault","e","preventEvent","defaultSettings","title","confirmActionText","cancelActionText","promptPlaceholder","reverseActions","closeButton","preventCancel","parseOptions","defaultOptions","message","createAction","actionText","action","noop","unshift","classNames","createTypedAction","typedActionClassName","DEFAULT_TEXT","createConfirmAction","createCancelAction","parseAction","text","renderAction","container","btn","dialog","result","remove","registerDialog","dialogPolyfill","Dialog","open","parseDialogOptions","hasTitle","hasContent","content","hasMessage","actions","map","closeButtonText","onClose","onCancel","head","body","messageBody","foot","actionsContainer","showModal","removeChild","close","returnPromise","method","Promise","onAction","promise","resolve","setDefault","arguments","addClassByClassList","add","addClassByClassName","alert","confirmBtn","addClass","confirm","onConfirm","cancelBtn","prompt","rows","placeholder","exportModule","shortCutWrapper","identify","cancel"],"mappings":"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"}